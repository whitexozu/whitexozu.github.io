<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.7ec7b6d3f2be314fe460.css" id="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-cyrillic-ext-400-normal-a13ef88d6cc2bace52bc1684ecb8823d.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0460-052f,U+1c80-1c88,U+20b4,U+2de0-2dff,U+a640-a69f,U+fe2e-fe2f}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-cyrillic-400-normal-298b48e6dfdf7ec4ef8907ff8a7182b1.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0400-045f,U+0490-0491,U+04b0-04b1,U+2116}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(data:font/woff2;base64,d09GMgABAAAAABooABEAAAAARHQAABnGAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGmQbiFQcMAZgAII4CIFkCZptEQgKxDC9NQuCJAABNgIkA4QWBCAFhAgHizIMgVUbrD4F3BiXYeMAxGxaFqMQj4O40kzF/8cEOUZs0Hcw1PxEpMgRLTxlZrTGsdl9WqM9cvvHGRXpui+a+PLK0ZFIhFBqVe5n/k+Udn4zi2fXurpYFQpZqIQIIFe5ktJGBZ7QkfXZ6eweJ/6+EZLM+hFt+m9m9yR3QAJRaZ1UzCDuhNRFki/mNfmivhbZtKpnZkFENssry4ArNBLJzDqOMsdPECQfRE+UbTh7LxSAQ5DwBIdSIEx1bYWTdf79pzl9QbggXVJgIX91J2ckoBZl67Zk52VdOj7swmp/AN/Vw/SuJ4AD84lzTxt65KMBYIKMd8MoK13/yMz/fYCBPC3XS1NrRpKCW+MpA3k2XoTg+Z+t14oycZpHXnwPE7EvE2Ptq0AU1oo6RU1XXSZuptnsj4GYNPIHbVP9zlfkJN/B9NCUdB1EOve3bkbawYLA/9deZ/PncKGrakGj2vg0hSoSh3HJ378sZHm0LgwTxaBwoTWFQkksrglTtUM5wd/bTNv3/u4esBzSBaHEHgDKlClTf/2/umWJx3uS4RAkEwpvdHthrrAkklkOMFTpXAUAa+CmcOmm7kIQO0H+Zs9eKNlnEYYTbzhAHqjO1jK7iOlxaRQIEqb/7u9Vq7CzOp3XIwrIYhiz3f3Zu6/5zwQBcAAAAIYVEhwILi4EjzQELw0hk44QVI5QqQahThdCjx6EPqMI4yYRpq0jbIohHDlFIAAWGs3iQ4e/vML9Pf95g/Zb+PtAEQEA6o8AJJ+eY+Djgz8fcD+4oCMov5ORg0EFQQXjFAiAW8KNgQBySnpPwIpgrnMFCE7Cq6WdjUX3eYAwyYHhD0iAQMOhwgSomzqqwlvUZ4UAYjjUB9RdPbavgIdg2lAjaLoFLIObR9XeQ73PtaPIbFTix9RPxTpF2fdUvGrstsTdHsNYUYAFKwkkkxMD9RsesWlLqVi9HIOJD4dgCT8IEQj3oxIiyglbyCgoiRJtoaBgxIgRgkXeV6gIBAYE0o6Ms/InCjBECQC9NWIwAAhVZZa6YJwn2NkhUqyu711IUQoGBkdGRkFGRSQyf+x9SVEdk/VF7Ve/R6DaXSo/93AL90k/gCFqqedrz/u7rvTa5uDk3CEc0o7KPZbVxHPo0VkAQ44cYInWmIcm2HbAP58fRoHDEjpYJLCUQUJu6IByDHAEEjIEoUCosNk3lslFdLzN3kb4WPJi2gIJ4HVcAsAvHaYqhNMHrVPDo5kpb4rIHB534Xvs8AdxynnxqiJAFpIrBbQbANjJT860+IiiPwIHSS5BzZ87DzsORoLc1IbG0lFqSvorYOoPxBRGrWkMHaHGpCOK0abwB2+9XW3XLUGSFN2r4jnTXJumlf99KReTb0nYNrtODl1MaGFBGyva2dDBjFYy6qloZEATI5opaJBiWKoRaUZ59Ek0IMmgZEMS9MswwWtcrgV5FmWalmVWtjk55vnNKLCsyKpia3TrCq0I2hSyJWJHiT2l9pU5ELWryrFKR6qdqHFq0kZWqGVV6GEXoOTCz6sXe9RbUQTspvb1UlB2CALCU+SDYqnw84PDF4eu9FEGaSMaoBQ/b2W9z2nEel/TEDPpvKrrU1AkYCQMo8juP1jNXeTbT4HoLnnPaSFl5Amm+b8aWqic6sRYCyZAkw46EGLyDgKaLxwMMhP+MBDpU5cXrabhdIi8DBau8eRzsGpNGT+i/ypY6p+NUC4PlD9HqZzWPCPvwIvREAnqQTr8kSALKfGsgFFLtq4RdKNMSqE0kGK7fQNTjJyCwQC6MFIDNES8U3pP8z97mNJa/kmhSCXMcoRM2ApC6hzPuYNDhoLQPBMkHgUk8cjijbURcoeAWrUyq1LhRc0iNU3g7LmN4vdW+NyuPDeUov19LFsN1idEOg7pyOSTGDTaKNTfBshMSrxBUJ5XAgp7HViGQVYVuu8qwO8zrFhAJeRIc4cCWfAcZk7/iVCInTbqPWqG00CsSEWn9MChf2xrBob0GppGW3dOpqAJoUmGxZ9llucQUmsxjLZLfa5suMbMgaPjYjISJCuLyDqCma3rOepMHd4SrFEbH1uHBZVVWljOA4cVkItg4c7gmW3x0WMYDqJ1aocNgj0xJeWfCGXxZ2xMUuaPBF0DLWnH7lmo4msQ72L51h82ODqOw+7pKWjsXXBt24kKe/9ctY+3DWWPzSJogqmvlhGtpaENFbgehUqBCUGxEhfnrda51dNNiGlIwDwDv0+MWDjGCo+XoWC5lPF2K3BFBxBBbUeR7l5pF5YqGHsWsIuXIWbxmATFvSQo/3auLGOIFr7M/zsba957u3eiw40KV8/hEYQggTBIJBySiIBkIkEKkSGVKJBGVEgnhkn50OwvFtl3z4JKA71vk7M6CnTKE8SfXRaW54i/12gvlnAsSsxAL2pMAh9hkEk4+ImALCJBNpEhhyiQS1TII4b2IkjbrFCcnHC69FU1+gVtI6eoYz83Oig2iueOAETGUss2zWv6Rpo7TTc5gKB8bKvmfku/LYnAvErRMwxPY6xGKEl5ENvDkFfhT4xgCcZYeo5DFlBWZRsSfmGaY/BO12o4xhFfJVFIK+MobNB0/QA5StDcaB2lMwKQ7zn1upahsrBxTxoZA7+H6XaJj2WsWcLE2AiJ70qj4Ln62FEOkIBDPEIRql26GsMCA3vzootIW8ovu1ERkcZqF0I8JybMv6HMWn8dfrKj1c6Mt5NWi+i9Ciql+Hm2jtLVkZtVT2908vtQEcY0Uzjz7OrRgtmwnt7kMjLvVVYRRNJRXjOKyhFMJ+7rVJOMuoKmvpZEK5LmIaNuDJFiM3QplZr422iKRzV+fJUZ0cSLSglsbdcWyqvCqCR1BOaa1dJXTeBrkvNN7e0Nh0ZatabppEtwltALymqN2v60IJcya897a6ZL4xfWhONj0fT0hSLjypsKbddCwyyXdCjtYDgyJzFIG5uqx6gX2XXdoU/M0dj1FnLmXekGUG5uExtBhRXtyTrtNJbyGUkINug5aAojoUvNlP+BjFF8AlibTq/SSqNrXlqaUdWE7meOdGOvEeNeZpGxN7NLt7pmbNdEbQwWWiahvJcbrdWiz6jVnTcmJRHYZno2f6jDy1y94lZE53ukvacDFaQFKeHWTlA2QdfykDBUaWRU/DlnoW60dZAuJakHnbEoZ0ONAL0KggYBpgvlR4sAuwqCDpHshp8o+Sp6AvCrIRgI9JBMkIggMUESQk894yYZbpLjJgVuvSTiJRVeUuMlDV6jHRyO0MERujhCD0fo4wgDHGGII4xwhsehoreMxgQLginiFHF9lnoukFDnxxYQYSGBsJQAVuPRso1rceFGXMYW+CPuvI+wlwAOEmjHT3nhSSw8i4UXsfDqBbhJAHcJtAfKG59i40tsfIuNHy/AVwL4STDDP1jDQyR/rV1O4/psBpuk5jln79T/2YpBIPUXCgDYCgCUBqA78FVApgFGBCC6AvZ/KAAAwGpihP1CCp7OT0fTuFkV+Xle0/jmAhSg872S0hS51LYdMizMV64UxFvhYXqedmf+crXKJAelNFxxbqnjRwDZ+Ip6jJUS0BHQxHKyI89qtZutgrKiSsmEGzcw9Pp1oyOw/tYtWnrzptGSkyHWnDDDAjNX26D1kUd9GvGZGNatvbrOCGCoEzH9cfKt0w4U/jv00tL2fTbRKRW8Oyfxo2skbF4yV6+/RdMrDUBIDXZxuej1VXAsuvA7NgZsm9ho9+x8xHDfuR4hDQjMlovYpAR2ioOEo9hkx1UnZ+vQ7yA56QYeXRl2MlvZbt3YrWu79Yv9kH2yWs/sDn256215aXghLcLw7DFm7LZDDm3v8jsdulSIisv7AMIYWkhIdndEJLMWhALWcXa+VSHpAEVqofGMfH0t0z74lr3+nWT7yHXr/f1Rp05Z6y7EWMdfsNc/1mbnSXt9Y7y/7WetcW90WnqupXX7OY9w/1sYWrC5AtJ20+uW9eF69Tzg7IfxGavBCZjn2flWf1+7OY9ZLPzaQ+YY3F5772uNb8TbB1y7w3bBGTzseqjFSTiPB8Knz+/s5nEbAE8lXmj+9bmoXbv01guwliYaz7bZubOB7CX3qNUT/xz8vZ4OlsKREftX5f+UWXdg1K4na/fbmj7sLlQo5JSLKbodSJy8rmRmccPqnYpie756b9m4kV1DC4ZB8QCmz3taVnmx9wcfDNz1V4u3BYyfWdT3i8/l5p6pmF0WXCFKCetNq8vnlhuUKM26noOP8nWNzBsERe9Q7mhft0FJXQU9xsTAkaLBBZX6ZpMZWu7xmfKNeJI3KzbA+sMPd8T3TE4kOUNGjPI/A7kDAxWzDOWO9nePyBsERamhus7c3ft3bvV9nbfTp6kZS+g/eeSPnbv2r0k1pyK1P30SP+lOZv8wtr4yqenD3BMb6hkqp29ZLFbUmEuTVdkta1KGpjEpaGmA+NduXUISg+4VdicLVq2u0mmLtxdf3inxp9L8wZ89ax7zpclOpPYhyX4ZGaz2UYpjDRZO33XnS8JouccDKk5idyDPrKOJH/PjXm7u1LpCJDvo4sI2TdHe7IEU3S89nejXk0xJ6UHifTNSzzbUQOkzd3SKpNscJpp1ziRXUriIfwfOnUUHdz+SZTXKAGoxFDu4CEXKPR7EV5pfM8bMgPPx7pNoeiF79wDUOfzlya3HJCXDF89Ee003x50wkNlYoAu/PaG+TtfQmiO1UW9j7+5dkKSo3Ox8NreyrkTN8vm+7nmCU89ITslNcIfhuj5gn54h4ZU1r8S+lw73QKxJV+LkpvRAbeJumsfeTX+3eEThxbz0lfg2hZPO267enVszv9XweMKjLSeq6nJ6CzF0fnt9S+e2FufTRhQ66PUu0jvH5dNY3L86C+HHinX3Ob3u3xG64Nq/5WJtU4JX/iui2t57fXrk65jk4/zP2aRtRjiTGRLtkoSmyqTm7ofb4R4JmFPWot+h1eHhYzye02Javrv8YlmVkmjutpA2hXTI1N0hFCd+PayM1vdHLOzfr0suVo1w7u5B8NulI/usiBk09L3IiLtRUXcioso9iT30RvHstsSw92+Mbp5QF3aqqsbVW6hhla21lK+lOMdSjrgGRUcPciHlRmmv3/9OrvjdItauNbzWjxGa+pybSsS6tXrbkA8jfJauzmKprNatTXtz3J9a62t88USwUf9p8Pf/GCzVL9rSL0RzucuNu4NvNHpn3wEGEICEZ94O7FxzTOrZRQY+iSgZKhfH0BwZuhQ/BXLfxsevN7/C4kSf0wsvXunpFFD8lGHGN2Hj/yDkMMn6LKbXdqXW/Ub/mPreNgdHK6l14K7NDMWDyguMAB7YLDUHpL6+GRM37YX0iXf0QuGrXsx3b5fjYIx8unzXZYbiQeUFIwN44LJ8XJYvw8gvfCy8a344i60XBa4/CnmvY8jAbXsRjZ1oNUdBPZ6iKn1X+qH0a/5Lg6Bi4h2PLXwofNVLrI2jflWjQJBC7QtUveSTYmkF7+tnKH6KSL4Vn7v5FZY++5z6IxTq8hQgHoYgnjwHPwTQ6YKwHqLXTezGBu9FKP6yXitWHhy/qFflSfmpDMWDyguuBfBAuXopV2/FaiFdx7Ew9t/pAV4qOZUTVSwRpu825deC8fCfphS8K8hQPKi84L0AHghqiqCmCLK0f1ENmKfT4AhdOM8g/+aFIa6rGOj7XxzbsMA824CK1UJ9t21EJ1q5AG6fpwrWTmPo/BRR+ibvuhGzw1CTJgfONu0yKLypJNe3a6hi78px/X+/9/am6RngN8RUCa6dggLKQXpXetvpYbL0sMOr1mr5yeRGWABhF4xpG1NaLBSvFVMF1sqS9Kp5TdTyk1KjPRHbbiX+gsYK/FqhnpXULTk6XiJcPEwI/1RUBulV8xqplp+XGnEqwp8n0kH2XsnnqYAXBYONRKjIw6lOQBlIjdZENsW2SYHn8ZMVAIUXpMadTkTZeNOP/G6l6O8ElIE0gvS6OI8QqWTjZ8HAqYs1ydMQB72dT/HnkqtUpPaD2/O7A4z2KaiL9SfJ0xT3Kt9G/gB+5s/RGfCpO8AAcjiwgHUN0zAN0zAN0zDHcsPSCfQU0jmuW6hq7scuAe9qEadtS8mA744GykEhC7fVftiZmqM4kV3iuxQyUKwCAxUAFmBBSYJIFEoSgipBgjKllIY0PG5fcUZ7Kc8gyeTTSAIksYrxYL9EREMowzRNy7TcbuarVoz3wtS0q6mL9yLoUTLucr18upp+1Ts+X6OOH5pBR2nygwvMAAY/MjGTwsMt7rAjPFakI7Jlp1hRUSiaHkITMogjzWyqkqZhscAQ3QAbJvc0nWbFei/ky+JQckV3/WFTaIZ9WfKCYm5fXMifyPlgjDnAyEchIahaEtEoygjzgbDdb7IENlhb6lZkbm7nHh0l0kj/eZczToPsE0B1dgE4yjgJOAejujfScH0ChOSka7Z8yE1sc2zq9TwbZlOqOskr0lpDotp8aJTI5txu9oWHihW9x8YRkYpQiirAQeQrlUS8QA9sDphkRXvJHB0lskjUWNfYF99j7cAg6awFwYWsNkhKv18nXcdcCBiyHytLk1nnZL7aB59BGaUUlyUQf5a8a5AiuY88NNocSZFASNOyKdPR41NNsgrF7lC62C3/LmdP/3QL1iQlZYpaJSGGVhE4wPija5ACjj4Se+S6KXD/ojAEwo+wL3M4OS/OdCt6xOeXQhHdYAL58Aahr/QJiKm58PtBZFzN6GoMz9ZkdTKbBv9/Wa1iVyS+1XY9LHohTYmUrbdL/+5mrF6LpYHbn+eMk5VEgsgXm4k0Mh6T2CzVC6VYHDJbaFjKkPWMqk2VCsbD/FpOGNmmVJNbwq7dzicOS60UUkZp6CFIcKN0hopk06ntYSWqeFecBVyMQQdMSe3dYK/7QEiZpePHyvzRO6QC5pqC2CAQ+6QILUwUO2SGoDXd68iV7EviW2PrcI1DzNjONjbKysA1rDDCZNm1kPV7VDXbt8OhkJAyBIcQHb/wPA1xzm3q+he7lKqyBNrfm3W5Kpe8R4qUiYUzzphrxXsvev1QcgHCI4hmNOz50NF8/ZeoBAKRDwRaLpiBGQAdstsja0/gIpnpEoKKX5PdJLKR5ITZkxawwpE773ZLmRgQjDWcSBRX/vtM15gEZcdTJgSDSdzQ1UtDT0SspHkcdmyrK6K60+cO0xhtCAjs+jEHhL5zXOc3Xmg6ox2IMAagahAou02nW1iSQky7twHAhrG5sCKpQkxGZqoEgTIzminNYGS+nHO+wcg3z2CshvkFI6+8gpE9CUzpShAJ5846NBnZi50+2jcoNiNxBYAU3fAbchMuvR9Gghohbw5Z+hYmPIFoMGU8oBVPBaXtegNMwGDd/Slv1gkxeBoWFwDA1ZKYWzgtSFa2C5ni1zEwZk2XYOyfW2/rk+iMC82PO4dgcDkFJDTQlJIIWrNWo0tby4k/hZbUZymdWMP0T8DIOsaFi8GzeBwX3Y2n/PbJi6GWtkz5AefjAgEwunTxD/85t/X9jW+ILwHgpv3/cOmBJxHi39d+L7KzDAdggAEACPiGekDPi1T85XMAYdrOvPIjT4T009HOb4GLiN6ItQGw8EGRF1SnPW5D47FePcUIRNeLwfbuJ3LCJdd8EBz1WShb6xT0PVnRGCeWcAjDxyzj6dBx9npHMbv7p2U4xyQ1BxbwNwr/RzMEeNgM8dLP5MCn9liq0W5Uc7pvRl8EYCu6KRghgaFUu08AljsnQoAAmFjFQTIEQBOAbEVw+9iKwYp/tuKo9N9WAllxbCUhJR01GZLv9bUimklosmffuZgNa9Yd0YQFhYRohq1boemxZ9eRQytiYhbIzf1i6N+0YgltbnAM17o97RBGntXmI/tWc6VAj6/ZoP0aH1ukW7JnR0CnY9s2rDiyYMS2BQHPY+ertEEy1ixpC3a8jB7H7EFVRnRr2MauAodifnbibmnGKIG+jA1GgeYzbz9KVuQ9jeOStmEyrqHbjm/Ts6ithRo/2KdVNwYAgLILm/76VoAYDBxZESRJI50MMimELLLJQU5yUShyE4a8uMlD4RRBkRRF0RSDosRSHMUj/DYAhGAExXCCpGgmD8vxgijJiprSdMPM0bI7nC63x+vzW0hUkgABjcHi8AQiKdfJFGpyaHQGk8XmcHl8gVCUIrFEKpMrlCp1yjTaOrp6+gaGRsYmpmbmFpZW1ja2dvYOjk7OLq5uTZVZhSwL4XXd63vX83pNakZonJaSsIGhYblwJBsHHHxDoaGB7l2qexoLepE2AEPDkoQDHmSS+O6ARs1obquLYVEwcEBZhlPkTnMzx3Tp3kEJfNJcZNHKgiWWw8YttFG058lQ4UWKk4byF/xmLFDp7yU/LpZNPBxQbVEw7BBm1iGh2DkRkGElmEXaAcIc1iSciKCSJB5OaGw1IJzMrOyoluF2QTCjMBDW1s6dyQlBoDoG6tVZobnsaFM7wfrJHY0CjfTfY94WVAdOc5nddcJmGJXCNoFNpu6XNE3u0vpL0inkqRBCXDe5509Jp1ybbLZKzbPflN6Q+lAuWmJHafeCzS91yQe/0m+6BeaHgyi4iD2uWel24bYutW0FKXSe0rVyxZK7z3hfbvMrl6EMDtqlKAZS6Mp/w+4Ou/QB0vbi1ZySbUSbSj/om+O333UbjMEDBcBWaZobCDdQgN65vCunyswyMdOip8skwzCv3k53oAkq0pN1l+zILbSbe+kaPEjgM1CPqTE5JsFszDgK8GC4YuTJgfozh+ICzdua05rc8a0D30osqCctE/abS0DyIBYYLtLUihvzeo9roByd0G2yPadohqPto6TeyI33cWzKHVq9DjRTAAAA) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01a0-01a1,U+01af-01b0,U+1ea0-1ef9,U+20ab}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-latin-ext-400-normal-97638b9a50d86ae960e84043314bf07a.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0100-024f,U+0259,U+1e??,U+2020,U+20a0-20ab,U+20ad-20cf,U+2113,U+2c60-2c7f,U+a720-a7ff}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-latin-400-normal-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{outline:none;text-decoration:none}body{--background-color:#fff;--primary-text-color:#000;--secondary-text-color:#9e9e9e;--content-text-color:#37352f;--button-background-color:#f3f3f4;--button-text-color:#363f47;--tab-text-color:#6e6d7a;--tab-hover-text-color:#0d0c22;--tab-selected-background-color:rgba(13,12,34,0.05);--bio-link-icon-color:rgba(0,0,0,0.54);--about-link-icon-color:#a8a8a8;--chip-background-color:#f3f3f4;--link-text-color:rgb(55 53 47/70%);--post-card-border-color:rgba(0,0,0,0.12);--markdown-table-even-cell-background-color:#f6f8fa;--markdown-table-border-color:#dfe2e5;--markdown-blockquote-border-color:#dfe2e5;--markdown-border-color:#e1e4e8}body.dark{--background-color:#232326;--primary-text-color:#e6e6e6;--secondary-text-color:#768390;--content-text-color:#e6e6e6;--button-background-color:#444c56;--button-text-color:#363f47;--tab-text-color:#768390;--tab-hover-text-color:#acbac7;--tab-selected-background-color:#373e47;--chip-background-color:#323a42;--bio-link-icon-color:#e6e6e6;--about-link-icon-color:#a8a8a8;--link-text-color:#90b0ec;--post-card-border-color:#363f47;--markdown-table-even-cell-background-color:#2d333b;--markdown-table-border-color:#444c56;--markdown-blockquote-border-color:#4f5864;--markdown-border-color:#e1e4e8}*{-webkit-appearance:none;appearance:none;box-sizing:border-box}html{background:var(--background-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:14px;height:100%;overflow-y:scroll;width:100%}html.transition,html.transition *,html.transition :after,html.transition :before{transition:.42s cubic-bezier(.68,-.55,.27,1.55)!important;transition-delay:0!important}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--background-color);color:var(--primary-text-color);height:100%;margin:0;width:100%;word-break:keep-all}ul{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;padding-inline-start:0}a{color:var(--link-text-color)}.markdown .octicon{fill:currentColor;display:inline-block;vertical-align:text-bottom}.markdown .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown .anchor:focus{outline:none}.markdown h1 .octicon-link,.markdown h2 .octicon-link,.markdown h3 .octicon-link,.markdown h4 .octicon-link,.markdown h5 .octicon-link,.markdown h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown h1:hover .anchor,.markdown h2:hover .anchor,.markdown h3:hover .anchor,.markdown h4:hover .anchor,.markdown h5:hover .anchor,.markdown h6:hover .anchor{text-decoration:none}.markdown h1:hover .anchor .octicon-link,.markdown h2:hover .anchor .octicon-link,.markdown h3:hover .anchor .octicon-link,.markdown h4:hover .anchor .octicon-link,.markdown h5:hover .anchor .octicon-link,.markdown h6:hover .anchor .octicon-link{visibility:visible}.markdown h1:hover .anchor .octicon-link:before,.markdown h2:hover .anchor .octicon-link:before,.markdown h3:hover .anchor .octicon-link:before,.markdown h4:hover .anchor .octicon-link:before,.markdown h5:hover .anchor .octicon-link:before,.markdown h6:hover .anchor .octicon-link:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E");content:" ";display:inline-block;height:16px;width:16px}.markdown{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-wrap:break-word;color:var(--content-text-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;font-weight:500;line-height:1.5}.markdown details{display:block}.markdown summary{display:list-item}.markdown a{background-color:initial}.markdown a:active,.markdown a:hover{outline-width:0}.markdown strong{font-weight:inherit;font-weight:bolder}.markdown h1{margin:.67em 0}.markdown img{border-style:none}.markdown code,.markdown kbd,.markdown pre{font-family:monospace,monospace;font-size:1em}.markdown hr{box-sizing:initial;overflow:visible}.markdown input{font:inherit;margin:0;overflow:visible}.markdown [type=checkbox]{box-sizing:border-box;padding:0}.markdown *{box-sizing:border-box}.markdown input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown a{border-bottom:.05em solid;border-bottom-color:var(--link-text-color);border-left-color:var(--link-text-color);border-right-color:var(--link-text-color);border-top-color:var(--link-text-color);color:var(--link-text-color);text-decoration:none}.markdown a.anchor{border-bottom:none}.markdown strong{font-weight:700}.markdown hr{background:transparent;border-bottom:1px solid var(--markdown-blockquote-border-color);height:0;margin:15px 0;overflow:hidden}.markdown hr:after,.markdown hr:before{content:"";display:table}.markdown hr:after{clear:both}.markdown table{border-collapse:collapse;border-spacing:0}.markdown td,.markdown th{padding:0}.markdown details summary{cursor:pointer}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{margin-bottom:0;margin-top:0}.markdown h1{font-size:32px}.markdown h1,.markdown h2{font-weight:600}.markdown h2{font-size:24px}.markdown h3{font-size:20px}.markdown h3,.markdown h4{font-weight:600}.markdown h4{font-size:16px}.markdown h5{font-size:14px}.markdown h5,.markdown h6{font-weight:600}.markdown h6{font-size:12px}.markdown p{margin-bottom:10px;margin-top:0}.markdown blockquote{margin:0}.markdown ol,.markdown ul{margin-bottom:0;margin-top:0;padding-left:0}.markdown ol ol,.markdown ul ol{list-style-type:lower-roman}.markdown ol ol ol,.markdown ol ul ol,.markdown ul ol ol,.markdown ul ul ol{list-style-type:lower-alpha}.markdown dd{margin-left:0}.markdown code,.markdown pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown code.language-text{border-radius:3px;font-size:85%;padding:.2em .4em}.markdown :not(pre)>code.language-text{background:rgba(135,131,120,.15);color:#eb5757;overflow-wrap:break-word}.markdown pre{margin-bottom:0;margin-top:0}.markdown input::-webkit-inner-spin-button,.markdown input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.markdown :checked+.radio-label{border-color:#0366d6;position:relative;z-index:1}.markdown .border{border:1px solid var(--markdown-border-color)!important}.markdown .border-0{border:0!important}.markdown .border-bottom{border-bottom:1px solid var(--markdown-border-color)!important}.markdown .rounded-1{border-radius:3px!important}.markdown .bg-white{background-color:transparent!important}.markdown .bg-gray-light{background-color:#fafbfc!important}.markdown .text-gray-light{color:#6a737d!important}.markdown .pl-3,.markdown .px-3{padding-left:16px!important}.markdown .px-3{padding-right:16px!important}.markdown .f6{font-size:12px!important}.markdown .lh-condensed{line-height:1.25!important}.markdown .text-bold{font-weight:600!important}.markdown .pl-c{color:#6a737d}.markdown .pl-c1,.markdown .pl-s .pl-v{color:#005cc5}.markdown .pl-e,.markdown .pl-en{color:#6f42c1}.markdown .pl-s .pl-s1,.markdown .pl-smi{color:#24292e}.markdown .pl-ent{color:#22863a}.markdown .pl-k{color:#d73a49}.markdown .pl-pds,.markdown .pl-s,.markdown .pl-s .pl-pse .pl-s1,.markdown .pl-sr,.markdown .pl-sr .pl-cce,.markdown .pl-sr .pl-sra,.markdown .pl-sr .pl-sre{color:#032f62}.markdown .pl-smw,.markdown .pl-v{color:#e36209}.markdown .pl-bu{color:#b31d28}.markdown .pl-ii{background-color:#b31d28;color:#fafbfc}.markdown .pl-c2{background-color:#d73a49;color:#fafbfc}.markdown .pl-c2:before{content:"^M"}.markdown .pl-sr .pl-cce{color:#22863a;font-weight:700}.markdown .pl-ml{color:#735c0f}.markdown .pl-mh,.markdown .pl-mh .pl-en,.markdown .pl-ms{color:#005cc5;font-weight:700}.markdown .pl-mi{color:#24292e;font-style:italic}.markdown .pl-mb{color:#24292e;font-weight:700}.markdown .pl-md{background-color:#ffeef0;color:#b31d28}.markdown .pl-mi1{background-color:#f0fff4;color:#22863a}.markdown .pl-mc{background-color:#ffebda;color:#e36209}.markdown .pl-mi2{background-color:#005cc5;color:#f6f8fa}.markdown .pl-mdr{color:#6f42c1;font-weight:700}.markdown .pl-ba{color:#586069}.markdown .pl-sg{color:#959da5}.markdown .pl-corl{color:#032f62;text-decoration:underline}.markdown .mb-0{margin-bottom:0!important}.markdown .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown .pl-0{padding-left:0!important}.markdown .py-0{padding-bottom:0!important;padding-top:0!important}.markdown .pl-1{padding-left:4px!important}.markdown .pl-2{padding-left:8px!important}.markdown .py-2{padding-bottom:8px!important;padding-top:8px!important}.markdown .pl-3{padding-left:16px!important}.markdown .pl-4{padding-left:24px!important}.markdown .pl-5{padding-left:32px!important}.markdown .pl-6{padding-left:40px!important}.markdown .pl-7{padding-left:48px!important}.markdown .pl-8{padding-left:64px!important}.markdown .pl-9{padding-left:80px!important}.markdown .pl-10{padding-left:96px!important}.markdown .pl-11{padding-left:112px!important}.markdown .pl-12{padding-left:128px!important}.markdown hr{border-bottom-color:#eee}.markdown kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown:after,.markdown:before{content:"";display:table}.markdown:after{clear:both}.markdown>:first-child{margin-top:0!important}.markdown>:last-child{margin-bottom:0!important}.markdown a:not([href]){color:inherit;text-decoration:none}.markdown blockquote,.markdown details,.markdown dl,.markdown ol,.markdown p,.markdown pre,.markdown table,.markdown ul{margin-bottom:16px;margin-top:0}.markdown hr{background-color:var(--markdown-border-color);border:0;height:.25em;margin:24px 0;padding:0}.markdown blockquote{border-left:.25em solid var(--markdown-blockquote-border-color);color:#6a737d;padding:0 1em}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown h1{font-size:2em}.markdown h2{font-size:1.5em}.markdown h3{font-size:1.25em}.markdown h4{font-size:1em}.markdown h5{font-size:.875em}.markdown h6{color:#6a737d;font-size:.85em}.markdown ol,.markdown ul{padding-left:2em}.markdown ol ol,.markdown ol ul,.markdown ul ol,.markdown ul ul{margin-bottom:0;margin-top:0}.markdown ol{list-style-type:decimal}.markdown ul{list-style-type:disc}.markdown li{word-wrap:break-all;display:list-item;text-align:-webkit-match-parent}.markdown li>p{margin-top:16px}.markdown li+li{margin-top:.25em}.markdown dl{padding:0}.markdown dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown dl dd{margin-bottom:16px;padding:0 16px}.markdown table{display:block;overflow:auto;width:100%}.markdown table th{font-weight:600}.markdown table td,.markdown table th{border:1px solid var(--markdown-table-border-color);padding:6px 13px}.markdown table tr{border-top:1px solid var(--markdown-table-border-color)}.markdown table tr:nth-child(2n){background-color:var(--markdown-table-even-cell-background-color)}.markdown img{background-color:transparent;box-sizing:initial;display:block;margin:0 auto;max-width:100%}.markdown img[align=right]{padding-left:20px}.markdown img[align=left]{padding-right:20px}.markdown code{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em .4em}.markdown pre{word-wrap:normal}.markdown pre>code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown .highlight{margin-bottom:16px}.markdown .highlight pre{margin-bottom:0;word-break:normal}.markdown .highlight pre,.markdown pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown pre code{word-wrap:normal;background-color:initial;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.markdown .commit-tease-sha{color:#444d56;display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%}.markdown .full-commit .btn-outline:not(:disabled):hover{border-color:#005cc5;color:#005cc5}.markdown .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown .blob-num{color:rgba(27,31,35,.3);cursor:pointer;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;min-width:50px;padding-left:10px;padding-right:10px;text-align:right;-webkit-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;white-space:nowrap;width:1%}.markdown .blob-num:hover{color:rgba(27,31,35,.6)}.markdown .blob-num:before{content:attr(data-line-number)}.markdown .blob-code{line-height:20px;padding-left:10px;padding-right:10px;position:relative;vertical-align:top}.markdown .blob-code-inner{word-wrap:normal;color:#24292e;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;overflow:visible;white-space:pre}.markdown .pl-token.active,.markdown .pl-token:hover{background:#ffea7f;cursor:pointer}.markdown .tab-size[data-tab-size="1"]{-moz-tab-size:1;-o-tab-size:1;tab-size:1}.markdown .tab-size[data-tab-size="2"]{-moz-tab-size:2;-o-tab-size:2;tab-size:2}.markdown .tab-size[data-tab-size="3"]{-moz-tab-size:3;-o-tab-size:3;tab-size:3}.markdown .tab-size[data-tab-size="4"]{-moz-tab-size:4;-o-tab-size:4;tab-size:4}.markdown .tab-size[data-tab-size="5"]{-moz-tab-size:5;-o-tab-size:5;tab-size:5}.markdown .tab-size[data-tab-size="6"]{-moz-tab-size:6;-o-tab-size:6;tab-size:6}.markdown .tab-size[data-tab-size="7"]{-moz-tab-size:7;-o-tab-size:7;tab-size:7}.markdown .tab-size[data-tab-size="8"]{-moz-tab-size:8;-o-tab-size:8;tab-size:8}.markdown .tab-size[data-tab-size="9"]{-moz-tab-size:9;-o-tab-size:9;tab-size:9}.markdown .tab-size[data-tab-size="10"]{-moz-tab-size:10;-o-tab-size:10;tab-size:10}.markdown .tab-size[data-tab-size="11"]{-moz-tab-size:11;-o-tab-size:11;tab-size:11}.markdown .tab-size[data-tab-size="12"]{-moz-tab-size:12;-o-tab-size:12;tab-size:12}.markdown .task-list-item{list-style-type:none}.markdown .task-list-item+.task-list-item{margin-top:3px}.markdown .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown .table-of-contents{align-items:flex-start;display:flex;flex-direction:column;justify-content:center;position:fixed;right:0;top:75px;width:340px}@media(max-width:1300px){.markdown .table-of-contents{display:none}}.markdown .table-of-contents ul{cursor:pointer;list-style-type:none}.markdown .table-of-contents ul li a{border-bottom:none;color:var(--secondary-text-color);font-size:14px;height:30px;padding:6px 2px;width:100%}.markdown .table-of-contents ul p{margin:0}.markdown .gatsby-resp-image-wrapper{display:flex!important;justify-content:center!important;max-height:560px!important;width:100%!important}.markdown .gatsby-resp-image-wrapper img{height:auto!important;max-height:560px!important;max-width:100%!important;position:relative!important;width:auto!important}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.mjx-chtml{word-wrap:normal;border:0;direction:ltr;display:inline-block;float:none;font-size:100%;font-size-adjust:none;font-style:normal;font-weight:400;letter-spacing:normal;line-height:0;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;padding:1px 0;text-align:left;text-indent:0;text-transform:none;white-space:nowrap;word-spacing:normal}.MJXc-display{display:block;margin:1em 0;padding:0;text-align:center}.mjx-chtml[tabindex]:focus,body :focus .mjx-chtml[tabindex]{display:inline-table}.mjx-full-width{display:table-cell!important;text-align:center;width:10000em}.mjx-math{border-collapse:separate;border-spacing:0;display:inline-block}.mjx-math *{box-sizing:content-box!important;display:inline-block;text-align:left}.mjx-denominator,.mjx-numerator{display:block;text-align:center}.MJXc-stacked{height:0;position:relative}.MJXc-stacked>*{position:absolute}.mjx-stack,.MJXc-bevelled>*{display:inline-block}.mjx-op{display:block}.mjx-under{display:table-cell}.mjx-over{display:block}.mjx-over>*,.mjx-under>*{padding-left:0!important;padding-right:0!important}.mjx-prestack>.mjx-presub,.mjx-prestack>.mjx-presup,.mjx-stack>.mjx-sub,.mjx-stack>.mjx-sup{display:block}.mjx-delim-h>.mjx-char{display:inline-block}.mjx-surd{vertical-align:top}.mjx-surd+.mjx-box{display:inline-flex}.mjx-mphantom *{visibility:hidden}.mjx-merror{background-color:#ff8;border:1px solid #c00;color:#c00;font-size:90%;font-style:normal;padding:2px 3px}.mjx-annotation-xml{line-height:normal}.mjx-menclose>svg{fill:none;stroke:currentColor;overflow:visible}.mjx-mlabeledtr,.mjx-mtr{display:table-row}.mjx-mtd{display:table-cell;text-align:center}.mjx-label{display:table-row}.mjx-box{display:inline-block}.mjx-block{display:block}.mjx-span{display:inline}.mjx-char{display:block;white-space:pre}.mjx-itable{display:inline-table;width:auto}.mjx-row{display:table-row}.mjx-cell{display:table-cell}.mjx-table{display:table;width:100%}.mjx-line{display:block;height:0}.mjx-strut{padding-top:1em;width:0}.mjx-vsize{width:0}.MJXc-space1{margin-left:.167em}.MJXc-space2{margin-left:.222em}.MJXc-space3{margin-left:.278em}.mjx-test.mjx-test-display{display:table!important}.mjx-test.mjx-test-inline{display:inline!important;margin-right:-1px}.mjx-test.mjx-test-default{clear:both;display:block!important}.mjx-ex-box{border:0;display:inline-block!important;height:60ex;margin:0;max-height:none;min-height:0;overflow:hidden;padding:0;position:absolute;width:1px}.mjx-test-inline .mjx-left-box{display:inline-block;float:left;width:0}.mjx-test-inline .mjx-right-box{display:inline-block;float:right;width:0}.mjx-test-display .mjx-right-box{border:0;display:table-cell!important;margin:0;max-width:none;min-width:0;padding:0;width:10000em!important}.MJXc-TeX-unknown-R{font-family:monospace;font-style:normal;font-weight:400}.MJXc-TeX-unknown-I{font-family:monospace;font-style:italic;font-weight:400}.MJXc-TeX-unknown-B{font-family:monospace;font-style:normal;font-weight:700}.MJXc-TeX-unknown-BI{font-family:monospace;font-style:italic;font-weight:700}.MJXc-TeX-ams-R{font-family:MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}.MJXc-TeX-cal-B{font-family:MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}.MJXc-TeX-frak-R{font-family:MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}.MJXc-TeX-frak-B{font-family:MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}.MJXc-TeX-math-BI{font-family:MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}.MJXc-TeX-sans-R{font-family:MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}.MJXc-TeX-sans-B{font-family:MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}.MJXc-TeX-sans-I{font-family:MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}.MJXc-TeX-script-R{font-family:MJXc-TeX-script-R,MJXc-TeX-script-Rw}.MJXc-TeX-type-R{font-family:MJXc-TeX-type-R,MJXc-TeX-type-Rw}.MJXc-TeX-cal-R{font-family:MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}.MJXc-TeX-main-B{font-family:MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}.MJXc-TeX-main-I{font-family:MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}.MJXc-TeX-main-R{font-family:MJXc-TeX-main-R,MJXc-TeX-main-Rw}.MJXc-TeX-math-I{font-family:MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}.MJXc-TeX-size1-R{font-family:MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}.MJXc-TeX-size2-R{font-family:MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}.MJXc-TeX-size3-R{font-family:MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}.MJXc-TeX-size4-R{font-family:MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}.MJXc-TeX-vec-R{font-family:MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}.MJXc-TeX-vec-B{font-family:MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}@font-face{font-family:MJXc-TeX-ams-R;src:local("MathJax_AMS"),local("MathJax_AMS-Regular")}@font-face{font-family:MJXc-TeX-ams-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-cal-B;src:local("MathJax_Caligraphic Bold"),local("MathJax_Caligraphic-Bold")}@font-face{font-family:MJXc-TeX-cal-Bx;font-weight:700;src:local("MathJax_Caligraphic")}@font-face{font-family:MJXc-TeX-cal-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-frak-R;src:local("MathJax_Fraktur"),local("MathJax_Fraktur-Regular")}@font-face{font-family:MJXc-TeX-frak-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-frak-B;src:local("MathJax_Fraktur Bold"),local("MathJax_Fraktur-Bold")}@font-face{font-family:MJXc-TeX-frak-Bx;font-weight:700;src:local("MathJax_Fraktur")}@font-face{font-family:MJXc-TeX-frak-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-math-BI;src:local("MathJax_Math BoldItalic"),local("MathJax_Math-BoldItalic")}@font-face{font-family:MJXc-TeX-math-BIx;font-style:italic;font-weight:700;src:local("MathJax_Math")}@font-face{font-family:MJXc-TeX-math-BIw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-sans-R;src:local("MathJax_SansSerif"),local("MathJax_SansSerif-Regular")}@font-face{font-family:MJXc-TeX-sans-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-sans-B;src:local("MathJax_SansSerif Bold"),local("MathJax_SansSerif-Bold")}@font-face{font-family:MJXc-TeX-sans-Bx;font-weight:700;src:local("MathJax_SansSerif")}@font-face{font-family:MJXc-TeX-sans-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-sans-I;src:local("MathJax_SansSerif Italic"),local("MathJax_SansSerif-Italic")}@font-face{font-family:MJXc-TeX-sans-Ix;font-style:italic;src:local("MathJax_SansSerif")}@font-face{font-family:MJXc-TeX-sans-Iw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-script-R;src:local("MathJax_Script"),local("MathJax_Script-Regular")}@font-face{font-family:MJXc-TeX-script-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-type-R;src:local("MathJax_Typewriter"),local("MathJax_Typewriter-Regular")}@font-face{font-family:MJXc-TeX-type-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-cal-R;src:local("MathJax_Caligraphic"),local("MathJax_Caligraphic-Regular")}@font-face{font-family:MJXc-TeX-cal-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-main-B;src:local("MathJax_Main Bold"),local("MathJax_Main-Bold")}@font-face{font-family:MJXc-TeX-main-Bx;font-weight:700;src:local("MathJax_Main")}@font-face{font-family:MJXc-TeX-main-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf) format("opentype")}@font-face{font-family:MJXc-TeX-main-I;src:local("MathJax_Main Italic"),local("MathJax_Main-Italic")}@font-face{font-family:MJXc-TeX-main-Ix;font-style:italic;src:local("MathJax_Main")}@font-face{font-family:MJXc-TeX-main-Iw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-main-R;src:local("MathJax_Main"),local("MathJax_Main-Regular")}@font-face{font-family:MJXc-TeX-main-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-math-I;src:local("MathJax_Math Italic"),local("MathJax_Math-Italic")}@font-face{font-family:MJXc-TeX-math-Ix;font-style:italic;src:local("MathJax_Math")}@font-face{font-family:MJXc-TeX-math-Iw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size1-R;src:local("MathJax_Size1"),local("MathJax_Size1-Regular")}@font-face{font-family:MJXc-TeX-size1-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size2-R;src:local("MathJax_Size2"),local("MathJax_Size2-Regular")}@font-face{font-family:MJXc-TeX-size2-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size3-R;src:local("MathJax_Size3"),local("MathJax_Size3-Regular")}@font-face{font-family:MJXc-TeX-size3-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-size4-R;src:local("MathJax_Size4"),local("MathJax_Size4-Regular")}@font-face{font-family:MJXc-TeX-size4-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-vec-R;src:local("MathJax_Vector"),local("MathJax_Vector-Regular")}@font-face{font-family:MJXc-TeX-vec-Rw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf) format("opentype")}@font-face{font-family:MJXc-TeX-vec-B;src:local("MathJax_Vector Bold"),local("MathJax_Vector-Bold")}@font-face{font-family:MJXc-TeX-vec-Bx;font-weight:700;src:local("MathJax_Vector")}@font-face{font-family:MJXc-TeX-vec-Bw;src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot);src:url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff) format("woff"),url(https://cdn.jsdelivr.net/npm/mathjax@2.7.8/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf) format("opentype")}.page-header-wrapper{display:flex;height:62px;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.page-header-wrapper .page-header{align-items:center;display:flex;justify-content:space-between;max-width:720px;width:100%}.page-header-wrapper .page-header .link{color:var(--primary-text-color);font-size:17px;font-weight:700}@media(min-width:768px){.page-header-wrapper .page-header .link{font-size:20px;font-weight:700}}.page-header-wrapper .page-header .trailing-section{align-items:center;display:flex}.page-header-wrapper .page-header .trailing-section .link{margin-left:10px}@media(min-width:768px){.page-header-wrapper .page-header .trailing-section .link{margin-left:20px}}.page-header-wrapper .page-header .trailing-section .dark-mode-switch{margin-left:3px}@media(min-width:768px){.page-header-wrapper .page-header .trailing-section .dark-mode-switch{margin-left:13px}}.page-footer-wrapper{align-items:center;display:flex;height:62px;justify-content:center;margin-top:auto;padding-left:15px;padding-right:15px;width:100%}.page-footer-wrapper .page-footer{max-width:720px;text-align:center;width:100%}.page-footer-wrapper .page-footer .link{color:var(--primary-text-color);font-size:20px;font-weight:700;margin-right:20px}.page-footer-wrapper .page-footer a{color:#3a95ff}.icon{color:var(--about-link-icon-color);font-size:20px}.social-links .icon{color:var(--bio-link-icon-color);font-size:30px}@-webkit-keyframes blinking-cursor{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes blinking-cursor{0%{opacity:0}50%{opacity:1}to{opacity:0}}strong{font-weight:600}.bio-wrapper{align-items:center;color:var(--primary-text-color);margin-bottom:120px;margin-top:120px;padding-left:15px;padding-right:15px}.bio-wrapper,.bio-wrapper .bio{display:flex;flex-direction:column;width:100%}.bio-wrapper .bio{justify-content:space-between;max-width:720px}@media(min-width:768px){.bio-wrapper .bio{align-items:center;flex-direction:row}}.bio-wrapper .bio .introduction{display:flex;flex-direction:column;word-break:keep-all}.bio-wrapper .bio .introduction .react-rotating-text-cursor{-webkit-animation:blinking-cursor .8s cubic-bezier(.68,.01,.01,.99) 0s infinite;animation:blinking-cursor .8s cubic-bezier(.68,.01,.01,.99) 0s infinite}.bio-wrapper .bio .introduction strong{display:inline-block;font-weight:600}.bio-wrapper .bio .introduction.korean{font-size:32px;font-weight:100;line-height:1.2}.bio-wrapper .bio .introduction.korean .title .react-rotating-text-cursor{font-size:35px;line-height:35px}@media(min-width:768px){.bio-wrapper .bio .introduction.korean{font-size:40px}.bio-wrapper .bio .introduction.korean .title .react-rotating-text-cursor{font-size:45px;line-height:45px}}.bio-wrapper .bio .introduction.english{font-family:montserrat;font-size:25px;line-height:1.2}@media(min-width:768px){.bio-wrapper .bio .introduction.english{font-size:45px}}.bio-wrapper .bio .introduction.english .name{font-size:35px;font-weight:600}.bio-wrapper .bio .introduction.english .job{font-size:35px}.bio-wrapper .bio .introduction.english .description{font-size:20px;font-weight:200;margin-top:8px}.bio-wrapper .bio .introduction.english .social-links{display:flex;margin-top:20px}.bio-wrapper .bio .thumbnail{display:none;width:250px}@media(min-width:768px){.bio-wrapper .bio .thumbnail{display:block}}.section-header-wrapper{display:flex;justify-content:center;margin-bottom:32px;width:100%}.section-header-wrapper .section-header{border-bottom:4px solid var(--primary-text-color);color:var(--primary-text-color);font-size:30px;font-weight:700;padding-bottom:5px}.timestamps-section-wrapper{display:flex;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.timestamps-section-wrapper .timestamps-section{align-items:center;display:flex;flex-direction:column;margin-bottom:50px;max-width:720px;width:100%;word-break:keep-all}.timestamps-section-wrapper .timestamps-section .body{padding:0 10px;width:100%}.timestamps-section-wrapper .timestamps-section .body .timestamp{border-left:2px solid #bdbdbd;display:flex;font-size:18px;font-weight:400;justify-items:center;margin-left:5px;padding:10px 0;width:100%}.timestamps-section-wrapper .timestamps-section .body .timestamp:first-child{padding-top:7px}.timestamps-section-wrapper .timestamps-section .body .timestamp:last-child{padding-bottom:7px}.timestamps-section-wrapper .timestamps-section .body .timestamp:before{align-self:center;background-color:var(--background-color);border:2px solid #828282;border-radius:10px;content:"";height:10px;left:-1px;position:relative;-webkit-transform:translatex(-50%);transform:translatex(-50%);width:10px}.timestamps-section-wrapper .timestamps-section .body .timestamp .date{align-self:center;color:#828282;margin-left:5px;margin-right:5px;min-width:115px;width:115px}@media(min-width:768px){.timestamps-section-wrapper .timestamps-section .body .timestamp .date{min-width:200px;width:200px}}.timestamps-section-wrapper .timestamps-section .body .timestamp .activity{line-height:23px;width:100%}.projects-section-wrapper{display:flex;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.projects-section-wrapper .projects-section{align-items:center;display:flex;flex-direction:column;max-width:720px;width:100%}.projects-section-wrapper .projects-section .project{display:flex;flex-direction:column;margin-bottom:30px;padding:15px}.projects-section-wrapper .projects-section .project .head{font-size:20px;font-weight:700;line-height:30px;margin-bottom:10px}.projects-section-wrapper .projects-section .project .body{display:flex;flex-direction:column}.projects-section-wrapper .projects-section .project .body .thumbnail{height:auto;margin-bottom:10px;max-height:600px;max-width:100%;width:auto}.projects-section-wrapper .projects-section .project .body .thumbnail img{-o-object-fit:contain!important;object-fit:contain!important}.projects-section-wrapper .projects-section .project .body .tech-stack{display:flex;margin-bottom:10px}.projects-section-wrapper .projects-section .project .body .tech-stack .tech{background-color:var(--chip-background-color);border-radius:10px;font-size:15px;font-weight:500;margin-right:5px;padding:5px 7px}.projects-section-wrapper .projects-section .project .body .description{font-size:16px;font-weight:400;line-height:1.4}@media(min-width:768px){.projects-section-wrapper .projects-section .project .body{flex-direction:column}.projects-section-wrapper .projects-section .project .body .content{margin-top:0}}.post-card-wrapper{display:flex;justify-content:center;min-height:150px;width:100%}.post-card-wrapper .post-card{border:1px solid var(--post-card-border-color);border-radius:6px;color:var(--primary-text-color);cursor:pointer;display:flex;flex-direction:column;height:100%;margin-bottom:15px;max-width:720px;padding:15px;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;width:100%}.post-card-wrapper .post-card:hover .title{text-decoration:underline}@media(min-width:768px){.post-card-wrapper .post-card{margin-bottom:0}}.post-card-wrapper .post-card .title{font-size:18px;font-weight:600;line-height:1.4;margin-bottom:7px}.post-card-wrapper .post-card .description{-webkit-line-clamp:3;-webkit-box-orient:vertical;color:var(--primary-text-color);display:-webkit-box;font-size:13px;line-height:20px;margin-bottom:10px;overflow:hidden;text-overflow:ellipsis}.post-card-wrapper .post-card .info{color:var(--about-link-icon-color);display:flex;font-size:14px;justify-content:space-between;margin-top:auto}.post-card-wrapper .post-card .info .categories{display:flex}.post-card-wrapper .post-card .info .categories .category{margin-left:4px}.post-card-wrapper .post-card .info .categories .category:hover{text-decoration:underline}.post-cards-column-wrapper{display:flex;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.post-cards-column-wrapper .post-cards-column{align-items:center;display:flex;flex-direction:column;max-width:720px;width:100%}.post-cards-column-wrapper .post-cards-column .post-card-wrapper{margin-bottom:10px}.post-cards-column-wrapper .post-cards-column .more-post-cards-button{background-color:var(--button-background-color);font-size:15px;font-weight:500;height:40px}.tabs-wrapper{align-self:flex-start;margin-bottom:12px;padding-left:15px;padding-right:15px;top:0}.tabs-wrapper,.tabs-wrapper .tabs{display:flex;justify-content:center;width:100%}.tabs-wrapper .tabs{height:40px;max-width:760px}.tabs-wrapper .tabs .mui-tabs .MuiTab-root{color:var(--tab-text-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:17px;font-weight:500;height:40px;min-height:auto;min-width:auto;padding:10px 12px;transition:all .2s ease}.tabs-wrapper .tabs .mui-tabs .Mui-selected,.tabs-wrapper .tabs .mui-tabs .MuiTab-root :hover{color:var(--tab-hover-text-color);transition:all .2s ease}.tabs-wrapper .tabs .mui-tabs .Mui-selected{background-color:var(--tab-selected-background-color);border-radius:8px;font-weight:600}.tabs-wrapper .tabs .mui-tabs .MuiTabScrollButton-root{height:40px;width:20px}.tabs-wrapper .tabs .mui-tabs .MuiTabs-scrollable{height:40px}.tabs-wrapper .tabs .mui-tabs .MuiTabs-indicator{display:none}.post-header-wrapper{display:flex;justify-content:center;margin-bottom:40px;margin-top:20px;padding-left:15px;padding-right:15px;width:100%;word-break:keep-all}.post-header-wrapper .post-header{border-bottom:1px solid var(--post-card-border-color);display:flex;flex-direction:column;max-width:720px;padding-bottom:15px;width:100%}.post-header-wrapper .post-header .emoji{font-size:78px;margin-bottom:20px}.post-header-wrapper .post-header .categories{margin-bottom:5px}.post-header-wrapper .post-header .categories .category{color:var(--primary-text-color);font-weight:600;margin-right:4px}.post-header-wrapper .post-header .categories .category:hover{text-decoration:underline}.post-header-wrapper .post-header .title{color:var(--primary-text-color);font-size:32px;font-weight:600;line-height:1.3;margin-bottom:6px}.post-header-wrapper .post-header .info{color:var(--secondary-text-color);display:flex;font-size:16px;font-weight:500}.post-header-wrapper .post-header .info strong{color:var(--primary-text-color);font-weight:600;margin:0 4px}.post-cards-adjacent-wrapper{display:flex;justify-content:center;margin-bottom:20px;padding-left:15px;padding-right:15px;width:100%}.post-cards-adjacent-wrapper .post-cards-adjacent{-webkit-column-gap:1.4%;column-gap:1.4%;display:grid;grid-template-columns:49.3% 49.3%;max-width:720px;width:100%}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card{border:1px solid var(--post-card-border-color);border-radius:6px;color:var(--primary-text-color);cursor:pointer;display:flex;flex-direction:column;padding:15px;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;width:100%}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card:hover .title{text-decoration:underline}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card.prev{margin-right:auto}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card.next{margin-left:auto}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card .direction{color:gray;font-size:14px;font-weight:500;margin-bottom:5px}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card .title{font-size:16px;font-weight:600;line-height:1.4;margin-bottom:7px}.post-content-wrapper{display:flex;justify-content:center;margin-bottom:20px;padding-left:15px;padding-right:15px;width:100%}.post-content-wrapper .post-content{display:flex;flex-direction:column;max-width:720px;width:100%}.posts-page-body-wrapper{display:flex;justify-content:center;margin-top:30px;width:100%}.posts-page-body-wrapper .posts-page-body{display:flex;flex-direction:column;width:100%}.posts-page-body-wrapper .posts-page-body .tabs-wrapper{display:flex}.posts-page-header-wrapper{align-items:center;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;justify-content:center;margin-top:30px;padding-left:15px;padding-right:15px}.posts-page-header-wrapper .posts-page-title{border-bottom:3px solid var(--primary-text-color);font-size:40px;font-weight:700;margin-bottom:15px;padding-bottom:7px;text-align:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.posts-page-header-wrapper .posts-page-sub-title{font-size:20px;font-weight:500;padding-bottom:10px;text-align:center}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">[MSA] Springboot msa service</title><meta data-react-helmet="true" name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"/><meta data-react-helmet="true" property="og:title" content="[MSA] Springboot msa service"/><meta data-react-helmet="true" property="og:site_title" content="[MSA] Springboot msa service"/><meta data-react-helmet="true" name="description" content="MSA를 공부하기로 했습니다. 설명 모놀리식 모놀리식 이란 모놀리식 아키텍쳐란, 마이크로서비스 아키텍쳐의 반대 되는 개념으로 전통의 아키텍쳐를 지칭하는 의미로 생겨난 단어입니다. 하나의 서비스 또는 애플리케이션이 하나의 거대한 아키텍쳐를 모놀리식(Monolithic)하다고 합니다. 장점 개발 초기에 단순한 아키텍쳐 구조와 개발에 용이합니다. 어떤 서비스든지 개발되어있는 환경이 같아서 복잡하지 않습니다. 쉽게 고가용성 서버 환경을 만들 수 있습니다. End-to-End 테스트가 용이합니다. 단점 프로젝트의 규모가 커짐에 따라 애플리케이션 구동시간이 늘어나고 빌드, 배포 시간도 길어집니다. 조그마한 수정사항이 있어도 전체를 다시 빌드하고 배포를 해야합니다. 많은 양의 코드가 몰려있어 개발자가 모두를 이해 할 수 없고 유지보수도 힘듭니다. 일부분의 오류가 전체에 영향을 미칩니다. 기능별로 알맞는 기술, 언어, 프레임워크를 선택하기가 까다롭습니다. 시간이 지남에따라 공통 비즈니스 프로세스…"/><meta data-react-helmet="true" property="og:description" content="MSA를 공부하기로 했습니다. 설명 모놀리식 모놀리식 이란 모놀리식 아키텍쳐란, 마이크로서비스 아키텍쳐의 반대 되는 개념으로 전통의 아키텍쳐를 지칭하는 의미로 생겨난 단어입니다. 하나의 서비스 또는 애플리케이션이 하나의 거대한 아키텍쳐를 모놀리식(Monolithic)하다고 합니다. 장점 개발 초기에 단순한 아키텍쳐 구조와 개발에 용이합니다. 어떤 서비스든지 개발되어있는 환경이 같아서 복잡하지 않습니다. 쉽게 고가용성 서버 환경을 만들 수 있습니다. End-to-End 테스트가 용이합니다. 단점 프로젝트의 규모가 커짐에 따라 애플리케이션 구동시간이 늘어나고 빌드, 배포 시간도 길어집니다. 조그마한 수정사항이 있어도 전체를 다시 빌드하고 배포를 해야합니다. 많은 양의 코드가 몰려있어 개발자가 모두를 이해 할 수 없고 유지보수도 힘듭니다. 일부분의 오류가 전체에 영향을 미칩니다. 기능별로 알맞는 기술, 언어, 프레임워크를 선택하기가 까다롭습니다. 시간이 지남에따라 공통 비즈니스 프로세스…"/><meta data-react-helmet="true" property="og:author" content="김지훈"/><meta data-react-helmet="true" property="og:image" content="/og-image.png"/><meta data-react-helmet="true" property="og:type" content="website"/><style id="jss-server-side">html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,::after,::before{box-sizing:inherit}b,strong{font-weight:700}body{color:rgba(0,0,0,.87);margin:0;font-size:.875rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em;background-color:#fafafa}@media print{body{background-color:#fff}}body::-webkit-backdrop{background-color:#fafafa}body::backdrop{background-color:#fafafa}</style><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxK.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4.woff2"/><style>@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4.woff2) format("woff2");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:url(/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxK.woff2) format("woff2");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:500;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4.woff2) format("woff2");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc-.woff) format("woff");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:url(/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxM.woff) format("woff");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:500;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc-.woff) format("woff");font-display:swap}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='0',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', '0', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link rel="icon" href="/favicon-32x32.png?v=ad9e124e5060ab5ddbaf24744e1cfc72" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ad9e124e5060ab5ddbaf24744e1cfc72"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-f716cd3b194c7d981d5e.js"/><link as="script" rel="preload" href="/framework-81279cacaab4bdba7685.js"/><link as="script" rel="preload" href="/app-a657ebcdc759434788da.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/f9d3028dbef90a6e9b8db85387d63dd9f4edf538-14376242a7466445d772.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-5ea40d560b401e429c55.js"/><link as="fetch" rel="preload" href="/page-data\2021-09-23-framework-springboot-msa\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1073350324.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2938748437.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="display:flex;flex-direction:column;min-height:100vh"><main><header class="post-header-wrapper"><div class="post-header"><div class="info"><div class="categories"><a class="category" href="/posts/Framework">Framework</a></div></div><h1 class="title">[MSA] Springboot msa service</h1><div class="info">posted by <strong>TMM</strong> · <!-- -->September 23, 2021</div></div></header><div class="post-content-wrapper"><div class="post-content"><div class="markdown"><p>MSA를 공부하기로 했습니다.</p>
<h1 id="설명" style="position:relative;"><a href="#%EC%84%A4%EB%AA%85" aria-label="설명 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>설명</h1>
<h2 id="모놀리식" style="position:relative;"><a href="#%EB%AA%A8%EB%86%80%EB%A6%AC%EC%8B%9D" aria-label="모놀리식 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>모놀리식</h2>
<h3 id="모놀리식-이란" style="position:relative;"><a href="#%EB%AA%A8%EB%86%80%EB%A6%AC%EC%8B%9D-%EC%9D%B4%EB%9E%80" aria-label="모놀리식 이란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>모놀리식 이란</h3>
<p align="center">
    <img src="https://miro.medium.com/max/433/0*p6M-yqvwSpcJvff7.png" title="Monolith">
</p>
<ul>
<li>모놀리식 아키텍쳐란, 마이크로서비스 아키텍쳐의 반대 되는 개념으로 전통의 아키텍쳐를 지칭하는 의미로 생겨난 단어입니다. 하나의 서비스 또는 애플리케이션이 하나의 거대한 아키텍쳐를 모놀리식(Monolithic)하다고 합니다.</li>
</ul>
<h3 id="장점" style="position:relative;"><a href="#%EC%9E%A5%EC%A0%90" aria-label="장점 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>장점</h3>
<ol>
<li>개발 초기에 단순한 아키텍쳐 구조와 개발에 용이합니다.</li>
<li>어떤 서비스든지 개발되어있는 환경이 같아서 복잡하지 않습니다.</li>
<li>쉽게 고가용성 서버 환경을 만들 수 있습니다.</li>
<li>End-to-End 테스트가 용이합니다.</li>
</ol>
<h3 id="단점" style="position:relative;"><a href="#%EB%8B%A8%EC%A0%90" aria-label="단점 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>단점</h3>
<ol>
<li>프로젝트의 규모가 커짐에 따라 애플리케이션 구동시간이 늘어나고 빌드, 배포 시간도 길어집니다.</li>
<li>조그마한 수정사항이 있어도 전체를 다시 빌드하고 배포를 해야합니다.</li>
<li>많은 양의 코드가 몰려있어 개발자가 모두를 이해 할 수 없고 유지보수도 힘듭니다.</li>
<li>일부분의 오류가 전체에 영향을 미칩니다.</li>
<li>기능별로 알맞는 기술, 언어, 프레임워크를 선택하기가 까다롭습니다.</li>
</ol>
<p align="center">
    <img src="https://miro.medium.com/max/496/0*vcIB4iUrOPZ5VZP3.png" title="Monolith crummy">
</p>
<ul>
<li>시간이 지남에따라 공통 비즈니스 프로세스는 중복되고 데이터를 공유 및 비즈니스 로직 재사용을 위해 단순했던 아키텍처는 복잡해집니다.</li>
</ul>
<h2 id="msamicroservices-architecture" style="position:relative;"><a href="#msamicroservices-architecture" aria-label="msamicroservices architecture permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MSA(Microservices Architecture)</h2>
<h3 id="msa-란" style="position:relative;"><a href="#msa-%EB%9E%80" aria-label="msa 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MSA 란</h3>
<ul>
<li>하나의 큰 어플리케이션을 여러개의 작은 어플리케이션으로 쪼개어 변경과 조합이 가능하도록 만든 아키텍쳐 입니다.</li>
</ul>
<p align="center">
    <img src="https://media.vlpt.us/post-images/tedigom/575c07d0-f980-11e9-ac2c-696993348d8a/pic1.png" title="Microservices Architecture">
</p>
<h3 id="장점-1" style="position:relative;"><a href="#%EC%9E%A5%EC%A0%90-1" aria-label="장점 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>장점</h3>
<ol>
<li>
<p>서비스 별 개별 배포 가능합니다. ( 배포 시 전체 서비스의 중단이 없음)</p>
<ul>
<li>요구사항을 신속하게 반영하여 빠르게 배포할 수 있습니다.</li>
</ul>
</li>
<li>
<p>특정 서비스에 대한 확장성이 용이함니다.</p>
<ul>
<li>클라우드 사용에 적합한 아키텍쳐.</li>
</ul>
</li>
<li>
<p>장애가 전체 서비스로 확장될 가능성이 적습니다.</p>
<ul>
<li>부분적 장애에 대한 격리가 수월합니다.</li>
</ul>
</li>
<li>신기술의 적용이 유연하고, 서비스를 polyglot하게 개발/운영 할 수 있습니다.</li>
</ol>
<h3 id="단점-1" style="position:relative;"><a href="#%EB%8B%A8%EC%A0%90-1" aria-label="단점 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>단점</h3>
<ol>
<li>서비스 간 호출 시 API를 사용하기 때문에, 통신 비용이나, Latency가 그만큼 늘어나게 됩니다.</li>
<li>서비스가 분리되어 있기 때문에 테스트와 트랜잭션의 복잡도가 증가하고, 많은 자원을 필요로 합니다.</li>
<li>데이터가 여러 서비스에 걸쳐 분산되기 때문에 한번에 조회하기 어렵고, 데이터의 정합성 또한 관리하기 어렵습니다.</li>
</ol>
<h3 id="모놀리식에서-msa로-전환" style="position:relative;"><a href="#%EB%AA%A8%EB%86%80%EB%A6%AC%EC%8B%9D%EC%97%90%EC%84%9C-msa%EB%A1%9C-%EC%A0%84%ED%99%98" aria-label="모놀리식에서 msa로 전환 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>모놀리식에서 MSA로 전환</h3>
<ol>
<li>각각의 서비스는 독립적으로 배포가 가능해야합니다.</li>
<li>각각의 서비스는 다른 서비스에 대한 의존성이 최소화 되어야 합니다.</li>
<li>각각의 서비스는 데이터가 분산되어야 합니다.</li>
</ol>
<h3 id="조직" style="position:relative;"><a href="#%EC%A1%B0%EC%A7%81" aria-label="조직 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>조직</h3>
<ul>
<li>MSA에서는 서비스 별로 팀을 나누고 서비스 기획에서부터 설계 개발 운영이 팀 내에서 이루어지기 때문에 다른 팀에 대한 의존성이 사라지게 됩니다. 역할별 요청과 피드백이 빨라지고, 때문에 유연하고 지속적인 운영과 개발이 함께하게 됩니다.</li>
</ul>
<p align="center">
    <img src="https://github.com/whitexozu/whitexozu.github.io/blob/master/assets/images/framework-springboot-msa-team.png?raw=true" width="600" title="team structure">
</p>
<h3 id="확장-방식" style="position:relative;"><a href="#%ED%99%95%EC%9E%A5-%EB%B0%A9%EC%8B%9D" aria-label="확장 방식 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>확장 방식</h3>
<ul>
<li>모놀리식이 scale-up 이라면 MSA는 scale-out 방식으로 확장이 가능합니다.</li>
</ul>
<p align="center">
    <img src="https://mblogthumb-phinf.pstatic.net/20151124_152/islove8587_1448357175274p9SjR_PNG/tech_img2603.png?type=w2" title="scale-up, scale-out">
</p>
<h3 id="도메인-설계" style="position:relative;"><a href="#%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84" aria-label="도메인 설계 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도메인 설계</h3>
<ul>
<li>DDD(Domain-Driven Development)의 주요 설계 원칙: Loose Coupling(느슨한 결합)과 High Cohesion(높은 응집)</li>
<li>강력한 모듈 경계</li>
<li>독립 배포</li>
<li>기술 다양성</li>
</ul>
<p><em>이부분은 마틴 파울러의 글을 보며 좀 더 고민해보겠습니다.</em></p>
<h2 id="bffbackend-for-frontend" style="position:relative;"><a href="#bffbackend-for-frontend" aria-label="bffbackend for frontend permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BFF(Backend for frontend)</h2>
<h3 id="bff-란" style="position:relative;"><a href="#bff-%EB%9E%80" aria-label="bff 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BFF 란</h3>
<p align="center">
    <img src="https://miro.medium.com/max/522/0*iwqbK6R1jCZICS13.png" title="Backend for frontend">
</p>
<ul>
<li>특정 Frontend 애플리케이션 또는 인터페이스에서 사용할 별도의 Backend 서비스를 만드는 패턴이다.</li>
</ul>
<h3 id="edaevent-driven-architecture" style="position:relative;"><a href="#edaevent-driven-architecture" aria-label="edaevent driven architecture permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>EDA(Event driven architecture)</h3>
<h3 id="eda-란" style="position:relative;"><a href="#eda-%EB%9E%80" aria-label="eda 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>EDA 란</h3>
<ul>
<li>분산된 시스템 간에 이벤트를 생성, 발행 (publishing)하고 발행된 이벤트를 필요로하는 수신자에게 전송된다. 이벤트를 수신한 수신자가 이벤트를 처리하는 형태의 시스템 아키텍쳐.</li>
</ul>
<!-- <p align="center">
    <img src="https://jaehun2841.github.io/2019/06/23/2019-06-23-event-driven-architecture/EDA.png" title="Monolith crummy"/>
</p> -->
<p align="center">
    <img src="https://jaehun2841.github.io/2019/06/23/2019-06-23-event-driven-architecture/EDM.png" title="Event driven architecture">
</p>
<h3 id="장점-2" style="position:relative;"><a href="#%EC%9E%A5%EC%A0%90-2" aria-label="장점 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>장점</h3>
<ol>
<li>시스템 간의 느슨한 결합이 가능 하므로 분산 시스템, Microservice 환경에서 시스템 간 의존성을 배제 할 수 있다. (시스템은 Event Channel인 Message Broker에 대한 의존성만 가진다.)</li>
<li>다른 시스템의 정보를 알 필요가 없다 - 약속된 Event message를 가지고 상호 정보를 교환한다.</li>
<li>micro service 단위로 시스템을 분리하기 쉽기 때문에 확장성, 탄력성을 고려하기 쉽다.</li>
</ol>
<h3 id="단점-2" style="position:relative;"><a href="#%EB%8B%A8%EC%A0%90-2" aria-label="단점 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>단점</h3>
<ol>
<li>Event를 전송하기 위한 Message Broker에 대한 의존성이 커지기 때문에 Message Broker 장애 상황 시, 전체 장애로 이어질 수 있다.</li>
<li>Transaction 단위가 격리되기 때문에 서비스 장애 발생시 retry/rollback을 고려해야 한다.</li>
<li>시스템 전체 Flow를 파악하기 어렵다. - 명확한 Flow를 보기 위해서는 시스템을 모니터링하여야 한다.</li>
<li>디버깅이 어렵다.</li>
</ol>
<h1 id="구현" style="position:relative;"><a href="#%EA%B5%AC%ED%98%84" aria-label="구현 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>구현</h1>
<h2 id="structure" style="position:relative;"><a href="#structure" aria-label="structure permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>structure</h2>
<p align="center">
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbKpx8I%2FbtqWX4MCkUa%2FbtFtRRQkPEUuILUp9Jrzj1%2Fimg.png" width="600" title="msa structure">
</p>
<h2 id="create-maven-project-in-vscode" style="position:relative;"><a href="#create-maven-project-in-vscode" aria-label="create maven project in vscode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>create maven project in vscode</h2>
<ul>
<li>vscode에서 <code class="language-text">ctrl</code> + <code class="language-text">shift</code> + <code class="language-text">p</code> 를 누른후 <em>spring.initializr.maven-project</em> 선택하여 maven 프로젝트를 생성합니다.</li>
<li>생성시 설정 사항은 하기의 내용처럼 표현 하겠습니다.</li>
</ul>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">Spring boot Version : 2.5.4 이상
Language : Java
Group Id : com.example
Artifact Id : project_name
Packaging Type : war
Java version : 8
dependencies : select package list</code></pre></div>
<h2 id="spring-cloud-config" style="position:relative;"><a href="#spring-cloud-config" aria-label="spring cloud config permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Spring cloud config</h2>
<h3 id="spring-cloud-config-란" style="position:relative;"><a href="#spring-cloud-config-%EB%9E%80" aria-label="spring cloud config 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Spring cloud config 란</h3>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">- application의 config 파일은(property, yml) 중앙 집중 방식의 관리가 가능하기 때문에 microservice의 모든 confing 파일을 각각 수정하는 수고를 줄일 수 있습니다.

> Spring Cloud Config provides server-side and client-side support for externalized configuration in a distributed system. With the Config Server, you have a central place to manage external properties for applications across all environments.</code></pre></div>
<h3 id="spring-cloud-config-project" style="position:relative;"><a href="#spring-cloud-config-project" aria-label="spring cloud config project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Spring cloud config project</h3>
<ol>
<li>
<p>Config 프로젝트 생성</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">Spring boot Version : 2.5.4
Language : Java
Group Id : com.example
Artifact Id : config
Packaging Type : war
Java version : 8
dependencies : Spring Web, Config Server</code></pre></div>
</li>
<li>
<p>github에 설정 파일 생성</p>
<ol>
<li>github에 repository 생성, 저는 <em>Spring-Cloud-Config-Repository</em> 이렇게 생성 했습니다.</li>
<li>ms1-dev.yml 파일 생성 후 push</li>
</ol>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">ms1</span><span class="token punctuation">:</span>
  <span class="token key atrule">profile</span><span class="token punctuation">:</span> I'm dev ms1
  <span class="token key atrule">comment</span><span class="token punctuation">:</span> Hello<span class="token tag">!</span> updated by Spring Bus with webhook<span class="token tag">!</span></code></pre></div>
<ol>
<li>ms2-dev.yml 파일 생성 후 push</li>
</ol>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">ms2</span><span class="token punctuation">:</span>
  <span class="token key atrule">profile</span><span class="token punctuation">:</span> I'm dev ms2
  <span class="token key atrule">comment</span><span class="token punctuation">:</span> Hello<span class="token tag">!</span> updated by Spring Bus with webhook<span class="token tag">!</span></code></pre></div>
</li>
<li>
<p>application.yml</p>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
     <span class="token key atrule">server</span><span class="token punctuation">:</span>
       <span class="token key atrule">git</span><span class="token punctuation">:</span>
         <span class="token key atrule">default-label</span><span class="token punctuation">:</span> main
         <span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/whitexozu/Spring<span class="token punctuation">-</span>Cloud<span class="token punctuation">-</span>Config<span class="token punctuation">-</span>Repository</code></pre></div>
</li>
<li>
<p>ConfigApplication.java</p>
<ul>
<li>@EnableConfigServer 추가</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableConfigServer</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
</li>
</ol>
<h3 id="microservices-1-project" style="position:relative;"><a href="#microservices-1-project" aria-label="microservices 1 project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>microservices 1 project</h3>
<ol>
<li>
<p>ms1 프로젝트 생성</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">Spring boot Version : 2.5.4
Language : Java
Group Id : com.example
Artifact Id : ms1
Packaging Type : war
Java version : 8
dependencies : Spring Web, Config Client</code></pre></div>
</li>
<li>
<p>pom.xml</p>
<ul>
<li>package 추가</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
...</code></pre></div>
</li>
<li>
<p>bootstrap.yml</p>
<ul>
<li>bootstrap.yml 생성</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
   <span class="token key atrule">active</span><span class="token punctuation">:</span> dev

<span class="token key atrule">management</span><span class="token punctuation">:</span>
 <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
   <span class="token key atrule">web</span><span class="token punctuation">:</span>
     <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
       <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'*'</span>

<span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8089</span>

<span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev
 <span class="token key atrule">application</span><span class="token punctuation">:</span>
   <span class="token key atrule">name</span><span class="token punctuation">:</span> ms1
 <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
     <span class="token key atrule">label</span><span class="token punctuation">:</span> main
     <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
     <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8888</span>
     <span class="token key atrule">fail-fast</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></code></pre></div>
<blockquote>
<p>bootstrap.yml 또는 bootstrap.properties <br/>
Spring Cloud를 사용 중이고 애플리케이션 구성이 원격 구성 서버 (예 : Spring Cloud Config 서버)에 저장된 경우에만 사용합니다.</p>
</blockquote>
</li>
<li>
<p>controller</p>
<ul>
<li>ConfigController.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms1<span class="token punctuation">.</span>config<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms1<span class="token punctuation">.</span>config<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">DynamicConfigService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms1<span class="token punctuation">.</span>config<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">StaticConfigService</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigController</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">DynamicConfigService</span> configDynamicService<span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Autowired</span>
   <span class="token keyword">public</span> <span class="token class-name">ConfigController</span><span class="token punctuation">(</span><span class="token class-name">DynamicConfigService</span> configDynamicService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>configDynamicService <span class="token operator">=</span> configDynamicService<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/dynamic"</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getConfigFromDynamic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> configDynamicService<span class="token punctuation">.</span><span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>service</p>
<ul>
<li>DynamicConfigService.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms1<span class="token punctuation">.</span>config<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>context<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RefreshScope</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token annotation punctuation">@RefreshScope</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DynamicConfigService</span> <span class="token punctuation">{</span>
   <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${ms1.profile}"</span><span class="token punctuation">)</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> profile<span class="token punctuation">;</span>
   <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${ms1.comment}"</span><span class="token punctuation">)</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> comment<span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"profile"</span><span class="token punctuation">,</span> profile<span class="token punctuation">)</span><span class="token punctuation">;</span>
       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"comment"</span><span class="token punctuation">,</span> comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> map<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>test</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">curl</span> -X GET <span class="token string">"http://localhost:8089/dynamic"</span></code></pre></div>
</li>
</ol>
<h3 id="microservices-2-project" style="position:relative;"><a href="#microservices-2-project" aria-label="microservices 2 project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>microservices 2 project</h3>
<ol>
<li>
<p>ms2 프로젝트 생성</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">Spring boot Version : 2.5.4
Language : Java
Group Id : com.example
Artifact Id : ms2
Packaging Type : war
Java version : 8
dependencies : Spring Web, Config Client</code></pre></div>
</li>
<li>
<p>pom.xml</p>
<ul>
<li>package 추가</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
...</code></pre></div>
</li>
<li>
<p>bootstrap.yml</p>
<ul>
<li>bootstrap.yml 생성</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
   <span class="token key atrule">active</span><span class="token punctuation">:</span> dev

<span class="token key atrule">management</span><span class="token punctuation">:</span>
 <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
   <span class="token key atrule">web</span><span class="token punctuation">:</span>
     <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
       <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'*'</span>

<span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev
 <span class="token key atrule">application</span><span class="token punctuation">:</span>
   <span class="token key atrule">name</span><span class="token punctuation">:</span> ms2
 <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
     <span class="token key atrule">label</span><span class="token punctuation">:</span> main
     <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
     <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8888</span>
     <span class="token key atrule">fail-fast</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></code></pre></div>
</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 생성</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
   <span class="token key atrule">active</span><span class="token punctuation">:</span> dev

<span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span></code></pre></div>
</li>
<li>
<p>controller</p>
<ul>
<li>ConfigController.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms2<span class="token punctuation">.</span>config<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms2<span class="token punctuation">.</span>config<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">StaticConfigService</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigController</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">StaticConfigService</span> configStaticService<span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Autowired</span>
   <span class="token keyword">public</span> <span class="token class-name">ConfigController</span><span class="token punctuation">(</span><span class="token class-name">StaticConfigService</span> configStaticService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>configStaticService <span class="token operator">=</span> configStaticService<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/static"</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getConfigFromStatic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// http://localhost:8089/static</span>
       <span class="token keyword">return</span> configStaticService<span class="token punctuation">.</span><span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>service</p>
<ul>
<li>StaticConfigService.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms2<span class="token punctuation">.</span>config<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticConfigService</span> <span class="token punctuation">{</span>
   <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${ms2.profile}"</span><span class="token punctuation">)</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> profile<span class="token punctuation">;</span>
   <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${ms2.comment}"</span><span class="token punctuation">)</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> comment<span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"profile"</span><span class="token punctuation">,</span> profile<span class="token punctuation">)</span><span class="token punctuation">;</span>
       map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"comment"</span><span class="token punctuation">,</span> comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> map<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>test</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost/static"</span></code></pre></div>
</li>
</ol>
<h2 id="kafka" style="position:relative;"><a href="#kafka" aria-label="kafka permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kafka</h2>
<h3 id="설치" style="position:relative;"><a href="#%EC%84%A4%EC%B9%98" aria-label="설치 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>설치</h3>
<ol>
<li>
<p>다운로드</p>
<ol>
<li>브라우저에서 <a href="https://kafka.apache.org/downloads">Apache Kafka</a>에 방문합니다.</li>
<li>원하는 버젼의 Binary 파일을 다운로드 받습니다. 전 <em>kafka</em>2.13-2.8.1.tgz (asc, sha512)_ 으로 받았습니다.</li>
<li>압축을 풀고 설정파일을 수정합니다.</li>
<li>
<p>D:\util\kafka_2.13-2.8.1\config\zookeeper.properties</p>
<ul>
<li>dataDir=D:\dev\tmp\zookeeper</li>
</ul>
</li>
<li>
<p>D:\util\kafka_2.13-2.8.1\config\server.properties</p>
<ul>
<li>log.dirs=D:\log\kafka</li>
</ul>
</li>
</ol>
</li>
<li>
<p>Zookeeper 실행</p>
<ol>
<li>D:\util\kafka_2.13-2.8.1\bin\windows</li>
<li>.\zookeeper-server-start.bat ....\config\zookeeper.properties</li>
</ol>
</li>
<li>
<p>Kafka 실행</p>
<ol>
<li>D:\util\kafka_2.13-2.8.1\bin\windows</li>
<li>.\kafka-server-start.bat ....\config\server.properties</li>
</ol>
</li>
<li>
<p>에러 발생</p>
<ul>
<li>temp.properties 에러 발생시 <em>D:\log\kafka</em>에 모든 폴더와 파일을 지운 후 다시 실행하면 됩니다.</li>
</ul>
</li>
<li>
<p>Topic 생성</p>
<ul>
<li>.\kafka-topics.bat —create —zookeeper localhost:2181 —replication-factor 1 —partitions 1 —topic test_topic</li>
</ul>
</li>
<li>
<p>Topic 목록 확인</p>
<ul>
<li>.\kafka-topics.bat —list —zookeeper localhost:2181</li>
</ul>
</li>
</ol>
<h3 id="microservices-1-project-1" style="position:relative;"><a href="#microservices-1-project-1" aria-label="microservices 1 project 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>microservices 1 project</h3>
<ol>
<li>
<p>bootstrap.yml</p>
<ul>
<li>bootstrap.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev
 <span class="token key atrule">application</span><span class="token punctuation">:</span>
   <span class="token key atrule">name</span><span class="token punctuation">:</span> ms1
 <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
     <span class="token key atrule">label</span><span class="token punctuation">:</span> main
     <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
     <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8888</span>
     <span class="token key atrule">fail-fast</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
 <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
   <span class="token key atrule">bootstrap-servers</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">9092</span>
   <span class="token key atrule">consumer</span><span class="token punctuation">:</span>
     <span class="token key atrule">group-id</span><span class="token punctuation">:</span> group_id_ms2
     <span class="token key atrule">auto-offset-reset</span><span class="token punctuation">:</span> earliest
     <span class="token key atrule">key-deserializer</span><span class="token punctuation">:</span> org.apache.kafka.common.serialization.StringDeserializer
     <span class="token key atrule">value-deserializer</span><span class="token punctuation">:</span> org.apache.kafka.common.serialization.StringDeserializer</code></pre></div>
</li>
<li>
<p>service</p>
<ul>
<li>Consumer.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms1<span class="token punctuation">.</span>kafka<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>kafka<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">KafkaListener</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Consumer</span> <span class="token punctuation">{</span>

   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token annotation punctuation">@KafkaListener</span><span class="token punctuation">(</span>topics <span class="token operator">=</span> <span class="token string">"test_topic"</span><span class="token punctuation">,</span> groupId <span class="token operator">=</span> <span class="token string">"group_id_ms2"</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">consume</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
       logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"#### -> Consumed message -> %s"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
</ol>
<h3 id="microservices-2-project-1" style="position:relative;"><a href="#microservices-2-project-1" aria-label="microservices 2 project 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>microservices 2 project</h3>
<ol>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
   <span class="token key atrule">active</span><span class="token punctuation">:</span> dev
 <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
   <span class="token key atrule">bootstrap-servers</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">9092</span>
   <span class="token key atrule">producer</span><span class="token punctuation">:</span>
     <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">0</span>
     <span class="token key atrule">acks</span><span class="token punctuation">:</span> all
     <span class="token key atrule">key-serializer</span><span class="token punctuation">:</span> org.apache.kafka.common.serialization.StringSerializer
     <span class="token key atrule">value-serializer</span><span class="token punctuation">:</span> org.apache.kafka.common.serialization.StringSerializer</code></pre></div>
</li>
<li>
<p>controller</p>
<ul>
<li>KafkaController.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms2<span class="token punctuation">.</span>kafka<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms2<span class="token punctuation">.</span>kafka<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">Producer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PostMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestParam</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/kafka"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KafkaController</span> <span class="token punctuation">{</span>

   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Producer</span> producer<span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Autowired</span>
   <span class="token class-name">KafkaController</span><span class="token punctuation">(</span><span class="token class-name">Producer</span> producer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>producer <span class="token operator">=</span> producer<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/publish"</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessageToKafkaTopic</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>producer<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>service</p>
<ul>
<li>Producer.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms2<span class="token punctuation">.</span>kafka<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>kafka<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">KafkaTemplate</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Producer</span> <span class="token punctuation">{</span>

   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Producer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> TOPIC <span class="token operator">=</span> <span class="token string">"test_topic"</span><span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Autowired</span>
   <span class="token keyword">private</span> <span class="token class-name">KafkaTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> kafkaTemplate<span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"#### -> Producing message -> %s"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>kafkaTemplate<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>TOPIC<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>test</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X POST -F <span class="token string">"message=test message"</span> http://localhost/kafka/publish</code></pre></div>
</li>
</ol>
<h2 id="eureka" style="position:relative;"><a href="#eureka" aria-label="eureka permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eureka</h2>
<h3 id="eureka-란" style="position:relative;"><a href="#eureka-%EB%9E%80" aria-label="eureka 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eureka 란</h3>
<ul>
<li>Eureka Server는 Eureka Client에 해당하는 마이크로서비스들을 등록, 관리, 검색 할 수 있는 레지스트리입니다.</li>
</ul>
<h3 id="eureka-server-project" style="position:relative;"><a href="#eureka-server-project" aria-label="eureka server project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Eureka server project</h3>
<ol>
<li>
<p>Eureka 프로젝트 생성</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">Spring boot Version : 2.5.4
Language : Java
Group Id : com.example
Artifact Id : eureka
Packaging Type : war
Java version : 8
dependencies : Spring Web, Spring Boot Actuator, Eureka Server</code></pre></div>
</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 생성</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">application</span><span class="token punctuation">:</span>
   <span class="token key atrule">name</span><span class="token punctuation">:</span> Eureka Server
<span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9999</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
 <span class="token key atrule">client</span><span class="token punctuation">:</span>
   <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span>
     <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9999/eureka/
   <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
   <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
 <span class="token key atrule">server</span><span class="token punctuation">:</span>
   <span class="token comment">## Self-Preservation 모드를 켜고 끌 수 있는 설정이다. 가급적이면 운영 상황에서는 끄지 않는 것을 권장한다.</span>
   <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></div>
</li>
<li>
<p>EurekaApplication.java</p>
<ul>
<li>@EnableEurekaServer 추가</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaServer</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
</li>
<li>Eureka 서버 실행</li>
<li>
<p>Eureka 사이트 접속</p>
<ul>
<li><a href="http://localhost:9999/">http://localhost:9999/</a></li>
</ul>
</li>
</ol>
<h3 id="microservices-1-project-2" style="position:relative;"><a href="#microservices-1-project-2" aria-label="microservices 1 project 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>microservices 1 project</h3>
<ol>
<li>
<p>pom.xml</p>
<ul>
<li>pom.xml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
...</code></pre></div>
</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 생성</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
 <span class="token key atrule">client</span><span class="token punctuation">:</span>
   <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
     <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9999/eureka/
   <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></div>
</li>
<li>Ms1 서버 실행</li>
<li>
<p>Eureka 서버 로그</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">..</span>.
Registered instance MS1/jhk.nmn.io:ms1:8089 with status UP <span class="token punctuation">(</span>replication<span class="token operator">=</span>true<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.</code></pre></div>
</li>
<li>
<p>Eureka 사이트 접속</p>
<ul>
<li><a href="http://localhost:9999/">http://localhost:9999/</a></li>
<li>application 목록에 추가된 MS1 확인</li>
</ul>
</li>
</ol>
<h3 id="microservices-2-project-2" style="position:relative;"><a href="#microservices-2-project-2" aria-label="microservices 2 project 2 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>microservices 2 project</h3>
<ol>
<li>
<p>pom.xml</p>
<ul>
<li>pom.xml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
...</code></pre></div>
</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
 <span class="token key atrule">client</span><span class="token punctuation">:</span>
   <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
     <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9999/eureka/
   <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></div>
</li>
<li>Ms2 서버 실행</li>
<li>
<p>Eureka 서버 로그</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">..</span>.
Registered instance MS1/jhk.nmn.io:ms1:80 with status UP <span class="token punctuation">(</span>replication<span class="token operator">=</span>true<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.</code></pre></div>
</li>
<li>
<p>Eureka 사이트 접속</p>
<ul>
<li><a href="http://localhost:9999/">http://localhost:9999/</a></li>
<li>application 목록에 추가된 MS2 확인</li>
</ul>
</li>
</ol>
<h2 id="api-gateway" style="position:relative;"><a href="#api-gateway" aria-label="api gateway permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API Gateway</h2>
<h3 id="api-gateway-란" style="position:relative;"><a href="#api-gateway-%EB%9E%80" aria-label="api gateway 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API Gateway 란</h3>
<ul>
<li>API Gateway는 서버 최앞단에 위치하여 모든 API 호출을 받습니다. 받은 API 호출을 인증한 후, 적절한 서비스들에 메세지를 전달될 수 있도록 합니다.</li>
</ul>
<h3 id="api-gateway가-필요한-이유" style="position:relative;"><a href="#api-gateway%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0" aria-label="api gateway가 필요한 이유 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API Gateway가 필요한 이유</h3>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">- 인증/인가: 부적절한 요청을 차단하여 Backend service를 보호
- L/B &amp; Routing: Client의 요청에 따라 적절한 backend service를 로드밸런싱(L/B: Load Balancing)하고 연결(라우팅)
- Logging: 유통되는 트래픽 로깅
- Circuit Breaker: Backend service 장애 감지 및 대처
- Strangler pattern: 시스템은 정상적으로 돌아가면서, 점진적으로 서비스 아키텍처로 코드를 분리</code></pre></div>
<h3 id="zuul-vs-scg-spring-cloud-gateway" style="position:relative;"><a href="#zuul-vs-scg-spring-cloud-gateway" aria-label="zuul vs scg spring cloud gateway permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zuul VS SCG (spring-cloud-gateway)</h3>
<table>
<thead>
<tr>
<th align="center">Zuul</th>
<th align="center">SCG</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Blocking</td>
<td align="center">non-Blocking</td>
</tr>
<tr>
<td align="center">Filter only</td>
<td align="center">Predicates + Filters</td>
</tr>
<tr>
<td align="center">Tomcat</td>
<td align="center">Netty</td>
</tr>
</tbody>
</table>
<h2 id="scg-spring-cloud-gateway" style="position:relative;"><a href="#scg-spring-cloud-gateway" aria-label="scg spring cloud gateway permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SCG (spring-cloud-gateway)</h2>
<h3 id="scg-란" style="position:relative;"><a href="#scg-%EB%9E%80" aria-label="scg 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SCG 란</h3>
<ul>
<li>Spring Cloud Gateway는 Spring WebFlux 위에서 API Gateway를 구축하기 위한 라이브러리입니다.</li>
</ul>
<blockquote>
<p>This project provides a library for building an API Gateway on top of Spring WebFlux. Spring Cloud Gateway aims to provide a simple, yet effective way to route to APIs and provide cross cutting concerns to them such as: security, monitoring/metrics, and resiliency.</p>
</blockquote>
<h3 id="scg-project" style="position:relative;"><a href="#scg-project" aria-label="scg project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SCG project</h3>
<ol>
<li>
<p>SCG 프로젝트 생성</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">Spring boot Version : 2.5.5
Language : Java
Group Id : com.example
Artifact Id : scg
Packaging Type : war
Java version : 8
dependencies : Spring Boot Actuator, Eureka Discovery Client, Gateway</code></pre></div>
</li>
<li>
<p>pom.xml</p>
<ul>
<li>tomcat 관련 주석 처리</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">...
<span class="token comment">&lt;!-- &lt;dependency>
   &lt;groupId>org.springframework.boot&lt;/groupId>
   &lt;artifactId>spring-boot-starter-web&lt;/artifactId>
&lt;/dependency> --></span>
...
<span class="token comment">&lt;!-- &lt;dependency>
   &lt;groupId>org.springframework.boot&lt;/groupId>
   &lt;artifactId>spring-boot-starter-tomcat&lt;/artifactId>
   &lt;scope>provided&lt;/scope>
&lt;/dependency> --></span>
...</code></pre></div>
</li>
<li>
<p>ServletInitializer.java</p>
<ul>
<li>ServletInitializer.java 파일 삭제</li>
</ul>
</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 생성</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7777</span>

<span class="token key atrule">management</span><span class="token punctuation">:</span>
 <span class="token comment"># security:</span>
 <span class="token comment">#     enabled: false</span>
 <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
   <span class="token key atrule">web</span><span class="token punctuation">:</span>
     <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
       <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'*'</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
 <span class="token key atrule">client</span><span class="token punctuation">:</span>
   <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
     <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9999/eureka/
   <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">application</span><span class="token punctuation">:</span>
   <span class="token key atrule">name</span><span class="token punctuation">:</span> scg
 <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
     <span class="token key atrule">routes</span><span class="token punctuation">:</span>
       <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
         <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8089</span> <span class="token comment"># 포워딩할 주소, http://localhost:7777/ms1 로 들어오면 http://localhost:8089 로 포워딩</span>
         <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
           <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>

       <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms2
         <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">80</span> <span class="token comment"># 포워딩 할 주소, http://localhost:7777/ms2 로 들어오면 http://localhost:80 로 포워딩</span>
         <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
           <span class="token punctuation">-</span> Path=/ms2/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms2/**로 들어오는 요청은 ms2로 인식하겠다는 조건</span></code></pre></div>
</li>
<li>
<p>Controller</p>
<ul>
<li>Ms2 > TestController.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms1<span class="token punctuation">.</span>test<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpStatus</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">ResponseEntity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMethod</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/ms1"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

   <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/test"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
   <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">sample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> response <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

       <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> resMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span> <span class="token string">"First eureka client!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"Spring Cloud is awesome!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span><span class="token punctuation">(</span>resMap<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> response<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li>Ms2 > TestController.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>ms2<span class="token punctuation">.</span>test<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpStatus</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">ResponseEntity</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMethod</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/ms2"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

   <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/test"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>
   <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">sample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> response <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

       <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> resMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span> <span class="token string">"Second eureka client!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"Spring Cloud is awesome!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span><span class="token punctuation">(</span>resMap<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> response<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span>
$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ol>
<h3 id="load-balance" style="position:relative;"><a href="#load-balance" aria-label="load balance permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Load balance</h3>
<ol>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
 <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
   <span class="token key atrule">routes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
       <span class="token comment">#   uri: http://localhost:8089 # 포워딩할 주소, http://localhost:7777/ms1 로 들어오면 http://localhost:8089 로 포워딩</span>
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS1 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>

     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms2
       <span class="token comment">#   uri: http://localhost:80 # 포워딩 할 주소, http://localhost:7777/ms2 로 들어오면 http://localhost:80 로 포워딩</span>
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS2 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms2/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms2/**로 들어오는 요청은 ms2로 인식하겠다는 조건</span></code></pre></div>
</li>
<li>
<p>테스트 준비</p>
<ol>
<li>Ms2 프로젝트 복사</li>
<li>서버 포트 변경</li>
<li>서비 실행</li>
<li>Eureka 사이트에서 Application > MS2 > Status 에 추가된 서버정보 확인</li>
<li>Ms2의 API(curl -X GET ”<a href="http://localhost:7777/api/ms2/test%22">http://localhost:7777/api/ms2/test”</a>) 테스트시 두서버가 번갈아가며 호출되는것을 확인 할 수 있습니다.</li>
<li>한쪽에서 애러 발생시 다른 한쪽을 호출합니다.</li>
</ol>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ol>
<h3 id="predicate" style="position:relative;"><a href="#predicate" aria-label="predicate permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Predicate</h3>
<ul>
<li>각 요청을 처리하기 전에 실행되는 로직, 헤더와 입력된 값 등 다양한 HTTP 요청이 정의된 기준에 맞는지를 찾는다.</li>
</ul>
<h4 id="after-before-between" style="position:relative;"><a href="#after-before-between" aria-label="after before between permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>After, Before, Between</h4>
<ol>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
 <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
   <span class="token key atrule">routes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS1 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>
         <span class="token punctuation">-</span> After=2022<span class="token punctuation">-</span>01<span class="token punctuation">-</span>20T17<span class="token punctuation">:</span>42<span class="token punctuation">:</span>47.789<span class="token punctuation">-</span><span class="token datetime number">07:00</span>

     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms2
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS2 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms2/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms2/**로 들어오는 요청은 ms2로 인식하겠다는 조건</span>
         <span class="token punctuation">-</span> Before=2017<span class="token punctuation">-</span>01<span class="token punctuation">-</span>20T17<span class="token punctuation">:</span>42<span class="token punctuation">:</span>47.789<span class="token punctuation">-</span><span class="token datetime number">07:00</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span>
$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ol>
<h4 id="weight" style="position:relative;"><a href="#weight" aria-label="weight permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Weight</h4>
<ul>
<li>group, weight를 기반으로 그룹별로 가중치를 계산하게 됩니다.</li>
</ul>
<h4 id="cookie" style="position:relative;"><a href="#cookie" aria-label="cookie permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cookie</h4>
<ul>
<li>요청에 Cookie 값이 지정된 정규표현식을 만족하는지 조건을 검증합니다.</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
 <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
   <span class="token key atrule">routes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS1 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>
         <span class="token punctuation">-</span> Cookie=USER_TOKEN<span class="token punctuation">,</span> ms1

     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms2
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS2 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms2/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms2/**로 들어오는 요청은 ms2로 인식하겠다는 조건</span>
         <span class="token punctuation">-</span> Cookie=USER_TOKEN<span class="token punctuation">,</span> ms2</code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span> -v --cookie <span class="token string">"USER_TOKEN=ms1"</span>
$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span> -v --cookie <span class="token string">"USER_TOKEN=ms2"</span></code></pre></div>
</li>
</ul>
<h4 id="method" style="position:relative;"><a href="#method" aria-label="method permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Method</h4>
<ul>
<li>HTTP Method 가 일치하는지 확인하는 조건을 추가합니다.</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
 <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
   <span class="token key atrule">routes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS1 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>
         <span class="token punctuation">-</span> Method=GET

     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms2
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS2 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms2/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms2/**로 들어오는 요청은 ms2로 인식하겠다는 조건</span>
         <span class="token punctuation">-</span> Method=POST</code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span>
$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ul>
<h3 id="filter" style="position:relative;"><a href="#filter" aria-label="filter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Filter</h3>
<p align="center">
    <img src="https://github.com/cheese10yun/blog-sample/raw/master/spring-msa/docs/images/gateway-flow.png" title="spring cloud gateway flow">
</p>
<h4 id="addrequestheader-addresponseheader-addrequestparameter" style="position:relative;"><a href="#addrequestheader-addresponseheader-addrequestparameter" aria-label="addrequestheader addresponseheader addrequestparameter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AddRequestHeader, AddResponseHeader, AddRequestParameter</h4>
<ul>
<li>RequestHeader, RequestParam, ResponseHeader에 key, value 데이터를 추가합니다.</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
 <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
   <span class="token key atrule">routes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS1 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>
       <span class="token key atrule">filters</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> AddRequestHeader=token<span class="token punctuation">,</span> <span class="token number">123456</span>
         <span class="token punctuation">-</span> AddResponseHeader=authenticated<span class="token punctuation">,</span> yes
         <span class="token punctuation">-</span> AddRequestParameter=temp1<span class="token punctuation">,</span> aaa</code></pre></div>
</li>
<li>
<p>controller</p>
<ul>
<li>Ms1 > TestController.java 수정</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/ms1"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

   <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/test"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">sample</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"token"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> token<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"temp1"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> temp1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> response <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"token : "</span> <span class="token operator">+</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"temp1 : "</span> <span class="token operator">+</span> temp1<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> resMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span> <span class="token string">"First eureka client!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"Spring Cloud is awesome!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span><span class="token punctuation">(</span>resMap<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> response<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span> -v</code></pre></div>
</li>
</ul>
<h4 id="rewritepath" style="position:relative;"><a href="#rewritepath" aria-label="rewritepath permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RewritePath</h4>
<ul>
<li>정규표현식을 이용해서 replacement 파라미터로 변경할 수 있습니다. prefix를 제거해 보겠습니다.</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
 <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
   <span class="token key atrule">routes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS1 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>
       <span class="token key atrule">filters</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> RewritePath=/ms1/<span class="token punctuation">?</span>(<span class="token punctuation">?</span>&lt;segment<span class="token punctuation">></span>.<span class="token important">*)</span><span class="token punctuation">,</span> /$\<span class="token punctuation">{</span>segment<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>controller</p>
<ul>
<li>Ms1 > TestController.java 수정</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

   <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/test"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">sample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> response <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ms1 '"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> resMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span> <span class="token string">"First eureka client!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token string">"Spring Cloud is awesome!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span><span class="token punctuation">(</span>resMap<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> response<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span></code></pre></div>
</li>
</ul>
<h4 id="retry" style="position:relative;"><a href="#retry" aria-label="retry permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retry</h4>
<ol>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
       <span class="token key atrule">routes</span><span class="token punctuation">:</span>
           <span class="token punctuation">...</span>
           <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms2
             <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS2 <span class="token comment"># Eureka에 등록된 Application 이름</span>
             <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
                 <span class="token punctuation">-</span> Path=/ms2/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms2/**로 들어오는 요청은 ms2로 인식하겠다는 조건</span>
             <span class="token key atrule">filters</span><span class="token punctuation">:</span>
                 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Retry
                   <span class="token key atrule">args</span><span class="token punctuation">:</span>
                       <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token comment"># 재시도 횟수</span>
                       <span class="token key atrule">statuses</span><span class="token punctuation">:</span> BAD_GATEWAY<span class="token punctuation">,</span> INTERNAL_SERVER_ERROR<span class="token punctuation">,</span> SERVICE_UNAVAILABLE
                       <span class="token key atrule">methods</span><span class="token punctuation">:</span> GET<span class="token punctuation">,</span> POST
                       <span class="token key atrule">backoff</span><span class="token punctuation">:</span>
                           <span class="token key atrule">firstBackoff</span><span class="token punctuation">:</span> 500ms <span class="token comment">#첫번째 재시도는 실패 후 0.5초 후 수행</span>
                           <span class="token key atrule">maxBackoff</span><span class="token punctuation">:</span> 2000ms <span class="token comment">#재시도 간격</span>
                           <span class="token key atrule">factor</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment">#firstBackoff * (factor^retries)가 재시도 간격임. maxBackoff보다 클 수는 없음.</span>
                           <span class="token key atrule">basedOnPreviousValue</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ol>
<h4 id="timeout" style="position:relative;"><a href="#timeout" aria-label="timeout permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Timeout</h4>
<ol>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
       <span class="token key atrule">routes</span><span class="token punctuation">:</span>
           <span class="token punctuation">...</span>
           <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms2
             <span class="token punctuation">...</span>
             <span class="token key atrule">metadata</span><span class="token punctuation">:</span> <span class="token comment"># 라우터별 timeout 설정</span>
                 <span class="token key atrule">response-timeout</span><span class="token punctuation">:</span> <span class="token number">3000</span>    <span class="token comment"># 밀리 초 단위</span>
                 <span class="token key atrule">connect-timeout</span><span class="token punctuation">:</span> <span class="token number">2000</span>  <span class="token comment"># 밀리 초 단위</span>
       <span class="token key atrule">httpclient</span><span class="token punctuation">:</span> <span class="token comment"># 전역 timeout 설정</span>
           <span class="token key atrule">connect-timeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>   <span class="token comment"># 밀리 초 단위</span>
           <span class="token key atrule">response-timeout</span><span class="token punctuation">:</span> 5s    <span class="token comment"># duration</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ol>
<h4 id="global-filter" style="position:relative;"><a href="#global-filter" aria-label="global filter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Global filter</h4>
<ul>
<li>각각의 필터를 필요로 하는 서비스에 개별적으로 넣어주는 CustomFilter와 다르게 전체적으로 적용되어야 되는 인증/권한과 같은 필터와 같은 경우에는 GlobalFilter로 구현을 하게 될 것입니다.</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">cloud</span><span class="token punctuation">:</span>
   <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
       <span class="token punctuation">...</span>
       <span class="token key atrule">default-filters</span><span class="token punctuation">:</span>
           <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> GlobalFilter
             <span class="token key atrule">args</span><span class="token punctuation">:</span>
                 <span class="token key atrule">baseMessage</span><span class="token punctuation">:</span> Spring Cloud Gateway Global Filter
                 <span class="token key atrule">preLogger</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
                 <span class="token key atrule">postLogger</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></div>
</li>
<li>
<p>controller</p>
<ul>
<li>Scg > GlobalFilter.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>scg<span class="token punctuation">.</span>filters</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">GatewayFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>filter<span class="token punctuation">.</span>factory<span class="token punctuation">.</span></span><span class="token class-name">AbstractGatewayFilterFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpStatus</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span>server<span class="token punctuation">.</span>reactive<span class="token punctuation">.</span></span><span class="token class-name">ServerHttpRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span>server<span class="token punctuation">.</span>reactive<span class="token punctuation">.</span></span><span class="token class-name">ServerHttpResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">ServerWebExchange</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Setter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">reactor<span class="token punctuation">.</span>core<span class="token punctuation">.</span>publisher<span class="token punctuation">.</span></span><span class="token class-name">Mono</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalFilter</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractGatewayFilterFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GlobalFilter<span class="token punctuation">.</span>Config</span><span class="token punctuation">></span></span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token class-name">GlobalFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">Config</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token class-name">GatewayFilter</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Config</span> config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>exchange<span class="token punctuation">,</span> chain<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
           <span class="token class-name">ServerHttpRequest</span> request <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">ServerHttpResponse</span> response <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Global Filter baseMessage : {}"</span><span class="token punctuation">,</span> config<span class="token punctuation">.</span><span class="token function">getBaseMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">isPreLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Global Filter Start : request id -> {}"</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>

           <span class="token comment">// Request Header 에 token 이 존재하지 않을 때</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>request<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">"GLOBAL_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token keyword">return</span> <span class="token function">handleUnAuthorized</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 401 Error</span>
           <span class="token punctuation">}</span>

           <span class="token comment">// Request Header 에서 token 문자열 받아오기</span>
           <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> token <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"GLOBAL_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">String</span> tokenString <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Global tokenString => {}"</span><span class="token punctuation">,</span> tokenString<span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token comment">// 토큰 검증</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>tokenString<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"global_token_string"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token comment">// 토큰이 일치하지 않을 때</span>
               <span class="token keyword">return</span> <span class="token function">handleUnAuthorized</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>

           <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token class-name">Mono</span><span class="token punctuation">.</span><span class="token function">fromRunnable</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
               <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span><span class="token function">isPostLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                   log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Global Filter End : response code -> {}"</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span>
               log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Custom Post"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">private</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">></span></span> <span class="token function">handleUnAuthorized</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">ServerHttpResponse</span> response <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       response<span class="token punctuation">.</span><span class="token function">setStatusCode</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>UNAUTHORIZED<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Getter</span>
   <span class="token annotation punctuation">@Setter</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Config</span> <span class="token punctuation">{</span>
       <span class="token class-name">String</span> baseMessage<span class="token punctuation">;</span>
       <span class="token keyword">private</span> <span class="token keyword">boolean</span> preLogger<span class="token punctuation">;</span>
       <span class="token keyword">private</span> <span class="token keyword">boolean</span> postLogger<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span> -v --header <span class="token string">"GLOBAL_TOKEN:global_token_string"</span></code></pre></div>
</li>
</ul>
<h4 id="custom-filter" style="position:relative;"><a href="#custom-filter" aria-label="custom filter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom filter</h4>
<ul>
<li>Custon filter를 이용해서 요청이 들어올 경우 요청된 ID, URI와 응답 시 응답 코드를 로그를 기록하는 전/후처리 필터입니다.</li>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
 <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
   <span class="token key atrule">routes</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> ms1
       <span class="token comment">#   uri: http://localhost:8089 # 포워딩할 주소, http://localhost:7777/ms1 로 들어오면 http://localhost:8089 로 포워딩</span>
       <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//MS1 <span class="token comment"># Eureka에 등록된 Application 이름</span>
       <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> Path=/ms1/<span class="token important">**</span> <span class="token comment"># 해당 gateway 서버의 /ms1/**로 들어오는 요청은 ms1로 인식하겠다는 조건</span>
       <span class="token key atrule">filters</span><span class="token punctuation">:</span>
         <span class="token punctuation">-</span> CustomFilter</code></pre></div>
</li>
<li>
<p>controller</p>
<ul>
<li>Scg > CustomFilter.java 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>scg<span class="token punctuation">.</span>filters</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">GatewayFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>filter<span class="token punctuation">.</span>factory<span class="token punctuation">.</span></span><span class="token class-name">AbstractGatewayFilterFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpStatus</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span>server<span class="token punctuation">.</span>reactive<span class="token punctuation">.</span></span><span class="token class-name">ServerHttpRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span>server<span class="token punctuation">.</span>reactive<span class="token punctuation">.</span></span><span class="token class-name">ServerHttpResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">ServerWebExchange</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">reactor<span class="token punctuation">.</span>core<span class="token punctuation">.</span>publisher<span class="token punctuation">.</span></span><span class="token class-name">Mono</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomFilter</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractGatewayFilterFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CustomFilter<span class="token punctuation">.</span>Config</span><span class="token punctuation">></span></span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token class-name">CustomFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">Config</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token class-name">GatewayFilter</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">Config</span> config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// Custom Pre Filter</span>
       <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>exchange<span class="token punctuation">,</span> chain<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
           <span class="token class-name">ServerHttpRequest</span> request <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">ServerHttpResponse</span> response <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Cutsom Pre filter : request id => {}"</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Cutsom Pre filter : request uri => {}"</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token comment">// Request Header 에 token 이 존재하지 않을 때</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>request<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">"USER_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token keyword">return</span> <span class="token function">handleUnAuthorized</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 401 Error</span>
           <span class="token punctuation">}</span>

           <span class="token comment">// Request Header 에서 token 문자열 받아오기</span>
           <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> token <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"USER_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">String</span> tokenString <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Cutsom tokenString => {}"</span><span class="token punctuation">,</span> tokenString<span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token comment">// 토큰 검증</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>tokenString<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"user_token_string"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token comment">// 토큰이 일치하지 않을 때</span>
               <span class="token keyword">return</span> <span class="token function">handleUnAuthorized</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>

           <span class="token comment">// Custom Post Filter</span>
           <span class="token comment">// 토큰이 일치할 때</span>
           <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token class-name">Mono</span><span class="token punctuation">.</span><span class="token function">fromRunnable</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
               log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Custom Post filter : response code -> {}"</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">private</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">></span></span> <span class="token function">handleUnAuthorized</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">ServerHttpResponse</span> response <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       response<span class="token punctuation">.</span><span class="token function">setStatusCode</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>UNAUTHORIZED<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Config</span> <span class="token punctuation">{</span>

   <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span> -v --header <span class="token string">"GLOBAL_TOKEN:global_token_string"</span> --header <span class="token string">"CUSTOM_TOKEN:custom_token_string"</span></code></pre></div>
</li>
</ul>
<h2 id="zuul" style="position:relative;"><a href="#zuul" aria-label="zuul permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zuul</h2>
<h3 id="zuul-project" style="position:relative;"><a href="#zuul-project" aria-label="zuul project permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zuul project</h3>
<ul>
<li>
<p>Netflix 기재된 내용 입니다.</p>
<blockquote>
<p>Zuul is the front door for all requests from devices and web sites to the backend of the Netflix streaming application. As an edge service application, Zuul is built to enable dynamic routing, monitoring, resiliency and security. It also has the ability to route requests to multiple Amazon Auto Scaling Groups as appropriate.
<br /> > <br />
Zuul은 Netflix 스트리밍 애플리케이션의 백엔드 웹 사이트와 디바이스 간의 이르는 모든 요청의 앞단으로, Edge Service Application으로써 동적 라우팅, 모니터링, 복원력과 보안을 위해 구축되었습니다. 또한 Amazon Auto Scaling 그룹에 있는 컨테이너들의 요청을 라우팅 할 수 있는 기능을 제공합니다.</p>
</blockquote>
</li>
<li>
<p>Zuul 프로젝트 생성</p>
<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">Spring boot Version : 2.0.5.RELEASE
Language : Java
Group Id : com.example
Artifact Id : zuul
Packaging Type : war
Java version : 8
dependencies : Spring Web, Spring Boot Actuator, Eureka Client, Netflix Zuul</code></pre></div>
</li>
<li>
<p>pom.xml</p>
<ul>
<li>pom.xml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>
	<span class="token comment">&lt;!-- &lt;spring-cloud.version>2020.0.3&lt;/spring-cloud.version> --></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud.version</span><span class="token punctuation">></span></span>Finchley.SR1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud.version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>
...</code></pre></div>
</li>
</ul>
<p><strong>Note:</strong><br />
Zuul은 현재 21년 10월 기준 spring boot 버전 <em>2.5.4</em> , spring cloud 버전 <em>2020.0.3</em>을 지원하지 않습니다.<br />
버전 다운이 필요합니다.
{: .notice—info}</p>
<ol>
<li>
<p>application.yml</p>
<ul>
<li>application.yml 생성</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>PORT<span class="token punctuation">:</span><span class="token number">7777</span><span class="token punctuation">}</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
 <span class="token key atrule">application</span><span class="token punctuation">:</span>
   <span class="token key atrule">name</span><span class="token punctuation">:</span> zuul

<span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
 <span class="token key atrule">restart</span><span class="token punctuation">:</span>
   <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
 <span class="token comment"># shutdown:</span>
 <span class="token comment">#     enabled: true</span>
 <span class="token comment"># health:</span>
 <span class="token comment">#     sensitive: false</span>

<span class="token key atrule">management</span><span class="token punctuation">:</span>
 <span class="token comment"># security:</span>
 <span class="token comment">#     enabled: false</span>
 <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
   <span class="token key atrule">web</span><span class="token punctuation">:</span>
     <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
       <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'*'</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
 <span class="token key atrule">client</span><span class="token punctuation">:</span>
   <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span>
     <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9999/eureka/</code></pre></div>
</li>
<li>
<p>ZuulApplication.java</p>
<ul>
<li>@EnableDiscoveryClient, @EnableZuulProxy 추가</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>zuul</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>hystrix<span class="token punctuation">.</span>dashboard<span class="token punctuation">.</span></span><span class="token class-name">EnableHystrixDashboard</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span></span><span class="token class-name">EnableZuulProxy</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@EnableDiscoveryClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">// @EnableHystrixDashboard</span>
<span class="token annotation punctuation">@EnableZuulProxy</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZuulApplication</span> <span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ZuulApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre></div>
</li>
<li>Zuul 서버 실행</li>
<li>
<p>Router list 확인</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/actuator/routes"</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/ms1/test"</span>
$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/ms2/test"</span></code></pre></div>
</li>
<li>
<p>설정 변경</p>
<ul>
<li>application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">zuul</span><span class="token punctuation">:</span>
 <span class="token comment"># ignored-services: '*' # 유레카에 기반 모든 경로 무시</span>
 <span class="token comment"># ignored-services: ms1 # 유레카에 등록된 특정 Application 무시</span>
 <span class="token comment"># ignored-patterns: /**/ms1/**  # api path로 무시</span>
 <span class="token key atrule">routes</span><span class="token punctuation">:</span>
   <span class="token key atrule">ms2</span><span class="token punctuation">:</span>
     <span class="token key atrule">path</span><span class="token punctuation">:</span> /ms2/<span class="token important">**</span> <span class="token comment"># api path</span>
     <span class="token key atrule">service-id</span><span class="token punctuation">:</span> ms2 <span class="token comment"># eureka에 등록된 service-id</span>
     <span class="token key atrule">strip-prefix</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># **앞의 경로 사용 여부, true일 경우 /ms2/ms2/test, false일 경우 /ms2/test, default ture</span>
 <span class="token key atrule">host</span><span class="token punctuation">:</span>
   <span class="token key atrule">connect-timeout-millis</span><span class="token punctuation">:</span> <span class="token number">10000</span>
   <span class="token key atrule">socket-timeout-millis</span><span class="token punctuation">:</span> <span class="token number">60000</span>
 <span class="token key atrule">retryable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/api/ms1/ms1/test"</span>
$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/api/ms2/test"</span></code></pre></div>
</li>
</ol>
<h3 id="zuulfilter" style="position:relative;"><a href="#zuulfilter" aria-label="zuulfilter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ZuulFilter</h3>
<ol>
<li>
<p>Filter</p>
<ul>
<li>RouterFilter 생성</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span>filter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>UUID<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span></span><span class="token class-name">ZuulFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">RequestContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span>exception<span class="token punctuation">.</span></span><span class="token class-name">ZuulException</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RouterFilter</span> <span class="token keyword">extends</span> <span class="token class-name">ZuulFilter</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> FILTER_TYPE <span class="token operator">=</span> <span class="token string">"pre"</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> FILTER_ORDER <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> SHOULD_FILTER <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">RouterFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">// filter의 type으로 "pre", "route", "post", "error", "static"을 용도에 따라 return 하면 됩니다.</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">filterType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> FILTER_TYPE<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// type안에서 해당 필터가 실행되는 순서입니다.</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">filterOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> FILTER_ORDER<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// run method를 실행한다면 true, 실행하지 않아도 된다면 false를 return합니다.</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">shouldFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> SHOULD_FILTER<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// 실제 filter의 로직을 담당하는 method입니다.</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ZuulException</span> <span class="token punctuation">{</span>
       <span class="token class-name">RequestContext</span> requestContext <span class="token operator">=</span> <span class="token class-name">RequestContext</span><span class="token punctuation">.</span><span class="token function">getCurrentContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasCorrelationId</span><span class="token punctuation">(</span>requestContext<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token class-name">String</span> correlationId <span class="token operator">=</span> <span class="token function">generateCorrelationId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           requestContext<span class="token punctuation">.</span><span class="token function">addZuulRequestHeader</span><span class="token punctuation">(</span><span class="token string">"correlation-id"</span><span class="token punctuation">,</span> correlationId<span class="token punctuation">)</span><span class="token punctuation">;</span>
           logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">">>>>>> correlation-id generated in tracking filter: {}."</span><span class="token punctuation">,</span> correlationId<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">">>>>>>> correlation-id already exists : {}."</span><span class="token punctuation">,</span>
           requestContext<span class="token punctuation">.</span><span class="token function">getZuulRequestHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"correlation-id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">hasCorrelationId</span><span class="token punctuation">(</span><span class="token class-name">RequestContext</span> requestContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> requestContext<span class="token punctuation">.</span><span class="token function">getZuulRequestHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">"correlation-id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">generateCorrelationId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre></div>
</li>
</ol>
<h2 id="ribbon" style="position:relative;"><a href="#ribbon" aria-label="ribbon permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ribbon</h2>
<h3 id="ribbon-이란" style="position:relative;"><a href="#ribbon-%EC%9D%B4%EB%9E%80" aria-label="ribbon 이란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ribbon 이란</h3>
<ul>
<li>Ribbon은 Client에 탑재하는 Load Balancer입니다.</li>
</ul>
<p align="center">
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbXhzwf%2FbtqA8iRN3zt%2FnQqdlZZZrOkVUDdGGBm1k0%2Fimg.png" title="client-side load balancing">
</p>
<h3 id="ribbon-설정" style="position:relative;"><a href="#ribbon-%EC%84%A4%EC%A0%95" aria-label="ribbon 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ribbon 설정</h3>
<ol>
<li>
<p>pom.xml</p>
<ul>
<li>Zuul Project > pom.xml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-ribbon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.retry<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-retry<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></div>
</li>
<li>
<p>application.yml</p>
<ul>
<li>Zuul Project > application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token comment"># Ribbon global settings</span>
<span class="token punctuation">---</span>
<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
 <span class="token key atrule">eureka</span><span class="token punctuation">:</span>
   <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
 <span class="token comment"># Max number of retries on the same server (excluding the first try)</span>
 <span class="token key atrule">MaxAutoRetries</span><span class="token punctuation">:</span> <span class="token number">0</span>
 <span class="token comment"># Max number of next servers to retry (excluding the first server)</span>
 <span class="token key atrule">MaxAutoRetriesNextServer</span><span class="token punctuation">:</span> <span class="token number">1</span>
 <span class="token comment"># Whether all operations can be retried for this client</span>
 <span class="token key atrule">OkToRetryOnAllOperations</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
 <span class="token comment"># Connect timeout used by Apache HttpClient</span>
 <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>
 <span class="token comment"># Read timeout used by Apache HttpClient</span>
 <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>
<span class="token comment"># Ribbon service-id settings</span>
<span class="token key atrule">ms2</span><span class="token punctuation">:</span>
 <span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
   <span class="token key atrule">MaxAutoRetries</span><span class="token punctuation">:</span> <span class="token number">1</span>
   <span class="token key atrule">MaxAutoRetriesNextServer</span><span class="token punctuation">:</span> <span class="token number">1</span>
   <span class="token key atrule">OkToRetryOnAllOperations</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">3000</span>
   <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">3000</span>
   <span class="token key atrule">RetryableStatusCodes</span><span class="token punctuation">:</span> <span class="token number">503</span><span class="token punctuation">,</span> <span class="token number">504</span><span class="token punctuation">,</span> <span class="token number">408</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">404</span>
   <span class="token key atrule">NFLoadBalancerRuleClassName</span><span class="token punctuation">:</span> com.netflix.loadbalancer.RoundRobinRule</code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ol>
<h2 id="hystrix-장애전파-회피" style="position:relative;"><a href="#hystrix-%EC%9E%A5%EC%95%A0%EC%A0%84%ED%8C%8C-%ED%9A%8C%ED%94%BC" aria-label="hystrix 장애전파 회피 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hystrix (장애전파 회피)</h2>
<h3 id="hystrix-란" style="position:relative;"><a href="#hystrix-%EB%9E%80" aria-label="hystrix 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hystrix 란</h3>
<ul>
<li>장애전파 회피</li>
</ul>
<h3 id="hystrix-설정" style="position:relative;"><a href="#hystrix-%EC%84%A4%EC%A0%95" aria-label="hystrix 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hystrix 설정</h3>
<ol>
<li>
<p>application.yml</p>
<ul>
<li>Zuul Project > application.yml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token punctuation">---</span>
<span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
 <span class="token key atrule">command</span><span class="token punctuation">:</span>
   <span class="token key atrule">default</span><span class="token punctuation">:</span>
     <span class="token key atrule">circuitBreaker</span><span class="token punctuation">:</span>
       <span class="token key atrule">sleepWindowInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">5000</span>
       <span class="token key atrule">errorThresholdPercentage</span><span class="token punctuation">:</span> <span class="token number">50</span>
       <span class="token key atrule">requestVolumeThreshold</span><span class="token punctuation">:</span> <span class="token number">20</span>
     <span class="token key atrule">metrics</span><span class="token punctuation">:</span>
       <span class="token key atrule">rollingStats</span><span class="token punctuation">:</span>
         <span class="token key atrule">timeInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">10000</span>
         <span class="token key atrule">numBuckets</span><span class="token punctuation">:</span> <span class="token number">10</span>
     <span class="token comment">#    event-service:   # 이 부분이 없으면 전체적으로 적용됨</span>
     <span class="token key atrule">execution</span><span class="token punctuation">:</span>
       <span class="token key atrule">isolation</span><span class="token punctuation">:</span>
         <span class="token key atrule">thread</span><span class="token punctuation">:</span>
           <span class="token key atrule">timeoutInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">20000</span></code></pre></div>
</li>
</ol>
<p><strong>Note:</strong><br />
Zuul, Ribbon, Hystrix의 타임아웃 관계<br />
결론적으로 Timeout 설정값은 ribbon, hystrix 의 값 중 작은 값이 우선 적용 됩니다.
{: .notice—info}</p>
<h4 id="hystrix-dashboard" style="position:relative;"><a href="#hystrix-dashboard" aria-label="hystrix dashboard permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hystrix dashboard</h4>
<ol>
<li>
<p>pom.xml</p>
<ul>
<li>Zuul Project > pom.xml 수정</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></div>
</li>
<li>
<p>ZuulApplication.java</p>
<ul>
<li>@EnableHystrixDashboard 추가</li>
</ul>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>hystrix<span class="token punctuation">.</span>dashboard<span class="token punctuation">.</span></span><span class="token class-name">EnableHystrixDashboard</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@EnableHystrixDashboard</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
</li>
<li>
<p>site</p>
<ul>
<li><a href="http://localhost:7777/hystirx">Hystrix dashboard</a></li>
</ul>
</li>
</ol>
<h2 id="zipkin-sleuth-트랜젝션-로그-트레이싱" style="position:relative;"><a href="#zipkin-sleuth-%ED%8A%B8%EB%9E%9C%EC%A0%9D%EC%85%98-%EB%A1%9C%EA%B7%B8-%ED%8A%B8%EB%A0%88%EC%9D%B4%EC%8B%B1" aria-label="zipkin sleuth 트랜젝션 로그 트레이싱 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zipkin, Sleuth (트랜젝션 로그 트레이싱)</h2>
<h3 id="zipkin" style="position:relative;"><a href="#zipkin" aria-label="zipkin permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Zipkin</h3>
<ul>
<li>Zipkin은 분산 환경에서 로그 트레이싱하는 오픈소스로 트위터에서 개발되었습니다.</li>
<li>
<p>Zipkin 다운로드 및 실행</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -sSL https://zipkin.io/quickstart.sh <span class="token operator">|</span> <span class="token function">bash</span> -s
$ java -jar zipkin.jar</code></pre></div>
</li>
<li>
<p>Zipkin 사이트 접속</p>
<ul>
<li>localhost:9411</li>
</ul>
</li>
</ul>
<h3 id="sleth" style="position:relative;"><a href="#sleth" aria-label="sleth permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sleth</h3>
<ul>
<li>MSA환경에서 클라이언트의 호출은 내부적으로 여러 마이크로서비스를 거쳐서 일어나기 때문에 추적이 어렵습니다. 때문에 이를 추적하기 위해서는 연관된 ID가 필요한데, 이런 ID를 자동으로 생성해주는 것이 Spring Cloud Sleuth입니다.</li>
</ul>
<p align="center">
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FqLYDg%2FbtqFhljc86O%2FKWUSGninlxOTcAxALKToj1%2Fimg.png" title="Sleuth">
</p>
<ol>
<li>
<p>pon.xml 수정</p>
<ul>
<li>Scg, Ms1, Ms2, Ms2-copy > pom.xml 추가</li>
</ul>
<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zipkin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.8.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-sleuth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.0.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></div>
</li>
<li>
<p>application.yml 수정</p>
<ul>
<li>Scg, Ms1, Ms2, Ms2-copy > application.yml(bootstrap.yml) 추가</li>
</ul>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
   <span class="token punctuation">...</span>
   <span class="token key atrule">sleuth</span><span class="token punctuation">:</span>
       <span class="token key atrule">sampler</span><span class="token punctuation">:</span>
           <span class="token key atrule">probability</span><span class="token punctuation">:</span> <span class="token number">1.0</span>
   <span class="token key atrule">zipkin</span><span class="token punctuation">:</span>
       <span class="token key atrule">base-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9411/</code></pre></div>
</li>
<li>
<p>테스트</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms1/test"</span> -v --header <span class="token string">"GLOBAL_TOKEN:global_token_string"</span> --header <span class="token string">"CUSTOM_TOKEN:custom_token_string"</span>
$ <span class="token function">curl</span> -X GET <span class="token string">"http://localhost:7777/ms2/test"</span></code></pre></div>
</li>
</ol>
<h2 id="참고사이트" style="position:relative;"><a href="#%EC%B0%B8%EA%B3%A0%EC%82%AC%EC%9D%B4%ED%8A%B8" aria-label="참고사이트 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>참고사이트</h2>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">MSA(Martin Fowler)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//martinfowler.com/articles/microservice<span class="token punctuation">-</span>trade<span class="token punctuation">-</span>offs.html
<span class="token key atrule">MSA(Wonit)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//wonit.tistory.com/499<span class="token punctuation">?</span>category=854728
<span class="token key atrule">MSA(Mr.spock)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//mr<span class="token punctuation">-</span>spock.tistory.com/42
<span class="token key atrule">MSA(온달의 해피클라우드)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//happycloud<span class="token punctuation">-</span>lee.tistory.com/213<span class="token punctuation">,</span> https<span class="token punctuation">:</span>//happycloud<span class="token punctuation">-</span>lee.tistory.com/218
<span class="token key atrule">MSA(tedigom.log)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//velog.io/@tedigom/MSA<span class="token punctuation">-</span>%EC%A0%9C%EB%8C%80%EB%A1%9C<span class="token punctuation">-</span>%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0<span class="token punctuation">-</span>1<span class="token punctuation">-</span>MSA%EC%9D%98<span class="token punctuation">-</span>%EA%B8%B0%EB%B3%B8<span class="token punctuation">-</span>%EA%B0%9C%EB%85%90<span class="token punctuation">-</span>3sk28yrv0e
<span class="token key atrule">SCG(MyLifeForCoding)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//mangchhe.github.io/springcloud/2021/04/18/SpringCloudGateway/
<span class="token key atrule">Zipkin &amp; Sleuth(두발로걷는개의 발자국)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//twofootdog.tistory.com/65
<span class="token key atrule">Zuul+Ribbon+Hystrix(ASSU)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//assu10.github.io/dev/2020/12/06/netflix<span class="token punctuation">-</span>zuul<span class="token punctuation">-</span>retryable/
<span class="token key atrule">BFF(주길재)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//giljae.medium.com/back<span class="token punctuation">-</span>end<span class="token punctuation">-</span>for<span class="token punctuation">-</span>front<span class="token punctuation">-</span>end<span class="token punctuation">-</span>pattern<span class="token punctuation">-</span>bff<span class="token punctuation">-</span>4b73f29858d6
<span class="token key atrule">BFF(삵)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//sarc.io/index.php/cloud/1984<span class="token punctuation">-</span>cdp<span class="token punctuation">-</span>bff<span class="token punctuation">-</span>pattern
<span class="token key atrule">EDA(Carrey`s)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//jaehun2841.github.io/2019/06/23/2019<span class="token punctuation">-</span>06<span class="token punctuation">-</span>23<span class="token punctuation">-</span>event<span class="token punctuation">-</span>driven<span class="token punctuation">-</span>architecture/<span class="token comment">#event-stream-processing</span>
<span class="token key atrule">Strangler Pattern(복세편살)</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//americanopeople.tistory.com/193</code></pre></div>
<div class="table-of-contents">
<ul>
<li>
<p><a href="#%EB%AA%A8%EB%86%80%EB%A6%AC%EC%8B%9D">모놀리식</a></p>
<ul>
<li><a href="#%EB%AA%A8%EB%86%80%EB%A6%AC%EC%8B%9D-%EC%9D%B4%EB%9E%80">모놀리식 이란</a></li>
<li><a href="#%EC%9E%A5%EC%A0%90">장점</a></li>
<li><a href="#%EB%8B%A8%EC%A0%90">단점</a></li>
</ul>
</li>
<li>
<p><a href="#msamicroservices-architecture">MSA(Microservices Architecture)</a></p>
<ul>
<li><a href="#msa-%EB%9E%80">MSA 란</a></li>
<li><a href="#%EC%9E%A5%EC%A0%90-1">장점</a></li>
<li><a href="#%EB%8B%A8%EC%A0%90-1">단점</a></li>
<li><a href="#%EB%AA%A8%EB%86%80%EB%A6%AC%EC%8B%9D%EC%97%90%EC%84%9C-msa%EB%A1%9C-%EC%A0%84%ED%99%98">모놀리식에서 MSA로 전환</a></li>
<li><a href="#%EC%A1%B0%EC%A7%81">조직</a></li>
<li><a href="#%ED%99%95%EC%9E%A5-%EB%B0%A9%EC%8B%9D">확장 방식</a></li>
<li><a href="#%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%84%A4%EA%B3%84">도메인 설계</a></li>
</ul>
</li>
<li>
<p><a href="#bffbackend-for-frontend">BFF(Backend for frontend)</a></p>
<ul>
<li><a href="#bff-%EB%9E%80">BFF 란</a></li>
<li><a href="#edaevent-driven-architecture">EDA(Event driven architecture)</a></li>
<li><a href="#eda-%EB%9E%80">EDA 란</a></li>
<li><a href="#%EC%9E%A5%EC%A0%90-2">장점</a></li>
<li><a href="#%EB%8B%A8%EC%A0%90-2">단점</a></li>
</ul>
</li>
<li><a href="#structure">structure</a></li>
<li><a href="#create-maven-project-in-vscode">create maven project in vscode</a></li>
<li>
<p><a href="#spring-cloud-config">Spring cloud config</a></p>
<ul>
<li><a href="#spring-cloud-config-%EB%9E%80">Spring cloud config 란</a></li>
<li><a href="#spring-cloud-config-project">Spring cloud config project</a></li>
<li><a href="#microservices-1-project">microservices 1 project</a></li>
<li><a href="#microservices-2-project">microservices 2 project</a></li>
</ul>
</li>
<li>
<p><a href="#kafka">Kafka</a></p>
<ul>
<li><a href="#%EC%84%A4%EC%B9%98">설치</a></li>
<li><a href="#microservices-1-project-1">microservices 1 project</a></li>
<li><a href="#microservices-2-project-1">microservices 2 project</a></li>
</ul>
</li>
<li>
<p><a href="#eureka">Eureka</a></p>
<ul>
<li><a href="#eureka-%EB%9E%80">Eureka 란</a></li>
<li><a href="#eureka-server-project">Eureka server project</a></li>
<li><a href="#microservices-1-project-2">microservices 1 project</a></li>
<li><a href="#microservices-2-project-2">microservices 2 project</a></li>
</ul>
</li>
<li>
<p><a href="#api-gateway">API Gateway</a></p>
<ul>
<li><a href="#api-gateway-%EB%9E%80">API Gateway 란</a></li>
<li><a href="#api-gateway%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0">API Gateway가 필요한 이유</a></li>
<li><a href="#zuul-vs-scg-spring-cloud-gateway">Zuul VS SCG (spring-cloud-gateway)</a></li>
</ul>
</li>
<li>
<p><a href="#scg-spring-cloud-gateway">SCG (spring-cloud-gateway)</a></p>
<ul>
<li><a href="#scg-%EB%9E%80">SCG 란</a></li>
<li><a href="#scg-project">SCG project</a></li>
<li><a href="#load-balance">Load balance</a></li>
<li>
<p><a href="#predicate">Predicate</a></p>
<ul>
<li><a href="#after-before-between">After, Before, Between</a></li>
<li><a href="#weight">Weight</a></li>
<li><a href="#cookie">Cookie</a></li>
<li><a href="#method">Method</a></li>
</ul>
</li>
<li>
<p><a href="#filter">Filter</a></p>
<ul>
<li><a href="#addrequestheader-addresponseheader-addrequestparameter">AddRequestHeader, AddResponseHeader, AddRequestParameter</a></li>
<li><a href="#rewritepath">RewritePath</a></li>
<li><a href="#retry">Retry</a></li>
<li><a href="#timeout">Timeout</a></li>
<li><a href="#global-filter">Global filter</a></li>
<li><a href="#custom-filter">Custom filter</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#zuul">Zuul</a></p>
<ul>
<li><a href="#zuul-project">Zuul project</a></li>
<li><a href="#zuulfilter">ZuulFilter</a></li>
</ul>
</li>
<li>
<p><a href="#ribbon">Ribbon</a></p>
<ul>
<li><a href="#ribbon-%EC%9D%B4%EB%9E%80">Ribbon 이란</a></li>
<li><a href="#ribbon-%EC%84%A4%EC%A0%95">Ribbon 설정</a></li>
</ul>
</li>
<li>
<p><a href="#hystrix-%EC%9E%A5%EC%95%A0%EC%A0%84%ED%8C%8C-%ED%9A%8C%ED%94%BC">Hystrix (장애전파 회피)</a></p>
<ul>
<li><a href="#hystrix-%EB%9E%80">Hystrix 란</a></li>
<li>
<p><a href="#hystrix-%EC%84%A4%EC%A0%95">Hystrix 설정</a></p>
<ul>
<li><a href="#hystrix-dashboard">Hystrix dashboard</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#zipkin-sleuth-%ED%8A%B8%EB%9E%9C%EC%A0%9D%EC%85%98-%EB%A1%9C%EA%B7%B8-%ED%8A%B8%EB%A0%88%EC%9D%B4%EC%8B%B1">Zipkin, Sleuth (트랜젝션 로그 트레이싱)</a></p>
<ul>
<li><a href="#zipkin">Zipkin</a></li>
<li><a href="#sleth">Sleth</a></li>
</ul>
</li>
<li><a href="#%EC%B0%B8%EA%B3%A0%EC%82%AC%EC%9D%B4%ED%8A%B8">참고사이트</a></li>
</ul>
</div></div></div></div><div class="post-cards-adjacent-wrapper"><div class="post-cards-adjacent"><div class="post-card-adjacent-wrapper"><a class="post-card prev" href="/2021-10-23-framework-springboot-tdd/"><div class="direction">이전 글</div><div class="title">[TDD] Springboot tdd</div></a></div><div class="post-card-adjacent-wrapper"></div></div></div></main><footer class="page-footer-wrapper"><p class="page-footer">© <!-- -->2021<!-- --> <a href="https://www.github.com">김지훈</a> powered by<a href="https://whitexozu.github.io"> TMM</a></p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2021-09-23-framework-springboot-msa/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-384ea82b9c97dbd7ee60.js"],"app":["/app-a657ebcdc759434788da.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-241020a1cf7d0f317bbe.js"],"component---src-pages-404-js":["/component---src-pages-404-js-18966798326ae6e5a169.js"],"component---src-pages-about-js":["/component---src-pages-about-js-d4a17c8107ec4d45892f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-075b56c20bb45784e0f2.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-5ea40d560b401e429c55.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-d01b478dab935d07b01d.js"]};/*]]>*/</script><script src="/polyfill-384ea82b9c97dbd7ee60.js" nomodule=""></script><script src="/component---src-templates-blog-template-js-5ea40d560b401e429c55.js" async=""></script><script src="/f9d3028dbef90a6e9b8db85387d63dd9f4edf538-14376242a7466445d772.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-a657ebcdc759434788da.js" async=""></script><script src="/framework-81279cacaab4bdba7685.js" async=""></script><script src="/webpack-runtime-f716cd3b194c7d981d5e.js" async=""></script></body></html>