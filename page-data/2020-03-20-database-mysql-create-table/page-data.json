{"componentChunkName":"component---src-templates-blog-template-js","path":"/2020-03-20-database-mysql-create-table/","result":{"data":{"cur":{"id":"6e3aa2c2-fa72-5e1f-9683-d16604d9e3c6","html":"<p>프로젝트를 설계를 할때면 리셋되어 있는 지식들이 있습니다.<br />\n그중에 DB 설계 관련 지식들은 거의 신생아로 돌아간거 같습니다.<br />\n그래서 나중에 찾아볼 것들을 미리 정리해 보았습니다.</p>\n<h2 id=\"data-types\" style=\"position:relative;\"><a href=\"#data-types\" aria-label=\"data types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Types</h2>\n<h3 id=\"numeric-types\" style=\"position:relative;\"><a href=\"#numeric-types\" aria-label=\"numeric types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Numeric types</h3>\n<ul>\n<li>\n<p>Integer Types (정수 타입)</p>\n<p>| Type | Storage (Bytes) | Minimum Value Signed | Minimum Value Unsigned | Maximum Value Signed | Maximum Value Unsigned |\n|TINYINT |1 |-128 |0 |127 |255|\n|SMALLINT |2 |-32768 |0 |32767 |65535|\n|MEDIUMINT |3 |-8388608 |0 |8388607 |16777215|\n|INT |4 |-2147483648 |0 |2147483647 |4294967295|\n|BIGINT |8 |-2<sup>63</sup> |0 |2<sup>63</sup> - 1 |2<sup>64</sup> - 1|</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> test <span class=\"token punctuation\">(</span>\ncolumn1 <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span>\ncolumn2 <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span>column1<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>latin1<span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>정수형 데이터 타입을 생성할때 예상되는 최소, 최대 값과 부호를 확인 후 선택해야 합니다.</p>\n</blockquote>\n</li>\n<li>\n<p>Fixed-Point Types (고정 소수점 타입)</p>\n<ul>\n<li>DECIMAL</li>\n<li>NUMERIC</li>\n</ul>\n</li>\n<li>\n<p>Floating-Point Types (부동 소수점 타입)</p>\n<ul>\n<li>FLOAT</li>\n<li>DOUBLE</li>\n</ul>\n</li>\n<li>\n<p>Bit-Value Type (비트값 타입)</p>\n<ul>\n<li>BIT</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"string-types\" style=\"position:relative;\"><a href=\"#string-types\" aria-label=\"string types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>String types</h3>\n<ul>\n<li>\n<p>CHAR and VARCHAR Types</p>\n<p>|Value |CHAR(4) |Storage Required |VARCHAR(4) |Storage Required|\n|” |’ ’ |4 bytes |” |1 byte|\n|‘ab’ |‘ab ’ |4 bytes |‘ab’ |3 bytes|\n|‘abcd’ |‘abcd’ |4 bytes |‘abcd’ |5 bytes|\n|‘abcdefgh’ |‘abcd’ |4 bytes |‘abcd’ |5 bytes|</p>\n<p>컬럼 속정 정보 <code class=\"language-text\">CHAR(M)</code>, <code class=\"language-text\">VARCHAR(M)</code> 의 M은 저장할 수 있는 문자열의 최대 길이를 나타냅니다.<br />\nCHAR는 <em>0~255</em>까지 설정할 수 있으며, VARCHAR는 <em>0~65,535</em>까지 설정할 수 있습니다.<br /></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> vc <span class=\"token punctuation\">(</span>v <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> c <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.01</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> vc <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'ab  '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ab  '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">SELECT</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'('</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> <span class=\"token string\">')'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'('</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> <span class=\"token string\">')'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> vc<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------------+---------------------+</span>\n<span class=\"token operator\">|</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'('</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> <span class=\"token string\">')'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'('</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">,</span> <span class=\"token string\">')'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------------+---------------------+</span>\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span>ab  <span class=\"token punctuation\">)</span>              <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span>ab<span class=\"token punctuation\">)</span>                <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------------+---------------------+</span>\n<span class=\"token number\">1</span> <span class=\"token keyword\">row</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.06</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">SELECT</span> c <span class=\"token operator\">LIKE</span> <span class=\"token string\">'ab'</span><span class=\"token punctuation\">,</span> c <span class=\"token operator\">LIKE</span> <span class=\"token string\">'ab  '</span> <span class=\"token keyword\">FROM</span> vc<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+-------------+</span>\n<span class=\"token operator\">|</span>c <span class=\"token operator\">LIKE</span> <span class=\"token string\">'ab'</span><span class=\"token operator\">|</span>c <span class=\"token operator\">LIKE</span> <span class=\"token string\">'ab  '</span><span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+-------------+</span>\n<span class=\"token operator\">|</span>          <span class=\"token number\">1</span><span class=\"token operator\">|</span>            <span class=\"token number\">0</span><span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+-------------+</span></code></pre></div>\n<p>공백 저장시 CHAR, VARCHAR 모두 저장이 되나 조회시 CHAR은 공백을 제거합니다.<br />\nCHAR는 EQUAL 검색시 공백이 있어도 검색이되나 LIKE 검색시 공백이 있으면 검색이 되지 않습니다.</p>\n</li>\n<li>BINARY and VARBINARY Types</li>\n<li>BLOB and TEXT Types</li>\n<li>ENUM Type</li>\n<li>SET Type</li>\n</ul>\n<h3 id=\"date-types\" style=\"position:relative;\"><a href=\"#date-types\" aria-label=\"date types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Date types</h3>\n<ul>\n<li>\n<p>DATE, DATETIME, and TIMESTAMP Types</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">mysql<span class=\"token operator\">></span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> ts <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">-</span><span class=\"token operator\">></span>     id <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">-</span><span class=\"token operator\">></span>     col <span class=\"token keyword\">TIMESTAMP</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n  <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">)</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> dt <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">-</span><span class=\"token operator\">></span>     id <span class=\"token keyword\">INT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">-</span><span class=\"token operator\">></span>     col <span class=\"token keyword\">DATETIME</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n  <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">)</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>DATE는 날짜 부분만 사용됩니다. 지원 범위는 ‘YYYY-MM-DD’, ‘1000-01-01’, ‘9999-12-31’ 입니다.<br />\nDATETIME유형은 날짜와 시간 부분을 모두 포함하는 값에 사용됩니다. DATETIME은 형식으로 값을 검색하고 표시 합니다. 지원 범위는 ‘YYYY-MM-DD hh:mm:ss’, ‘1000-01-01 00:00:00’, ‘9999-12-31 23:59:59’ 입니다.<br />\nTIMESTAMP데이터 타입은 날짜와 시간 부분을 모두 포함하는 값에 사용됩니다. UTC ~ UTC TIMESTAMP범위입니다 . ‘1970-01-01 00:00:01’, ‘2038-01-19 03:14:07’<br />\nDATETIME또는 TIMESTAMP 값이 마이크로 초(6자리 소수 부분)를 포함 할 수 있습니다. 특히, DATETIME또는 TIMESTAMP열에 삽입 된 값의 소수 부분 은 버리지 않고 저장됩니다.</p>\n</li>\n<li>TIME Type</li>\n<li>YEAR Type</li>\n</ul>\n<h3 id=\"json-type\" style=\"position:relative;\"><a href=\"#json-type\" aria-label=\"json type permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Json type</h3>\n<ul>\n<li>\n<p>JSON 데이터 입력</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> facts <span class=\"token punctuation\">(</span>\n  id <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\n  sentence JSON\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> facts<span class=\"token punctuation\">(</span>sentence<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>JSON_OBJECT<span class=\"token punctuation\">(</span><span class=\"token string\">'key1'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'key2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'abc'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> facts<span class=\"token punctuation\">(</span>sentence<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>JSON_ARRAY<span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> facts<span class=\"token punctuation\">(</span>sentence<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>JSON_MERGE_PRESERVE<span class=\"token punctuation\">(</span><span class=\"token string\">'[\"a\", 1]'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'{\"key\": \"value\"}'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SET</span> <span class=\"token variable\">@j</span> <span class=\"token operator\">=</span> JSON_OBJECT<span class=\"token punctuation\">(</span><span class=\"token string\">'key'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> facts<span class=\"token punctuation\">(</span>sentence<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token variable\">@j</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> facts<span class=\"token punctuation\">(</span>sentence<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'{\"mascot\": \"Our mascot is a dolphin named \\\\\"Sakila\\\\\".\"}'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>JSON Object 조회</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> sentence<span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token string\">\"$.mascot\"</span> <span class=\"token keyword\">FROM</span> facts<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------------------------------------+</span>\n<span class=\"token operator\">|</span> sentence<span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token string\">\"$.mascot\"</span>                        <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------------------------------------+</span>\n<span class=\"token operator\">|</span> <span class=\"token string\">\"Our mascot is a dolphin named \\\"Sakila\\\".\"</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------------------------------------------+</span>\n\n<span class=\"token keyword\">SELECT</span> sentence<span class=\"token operator\">-</span><span class=\"token operator\">>></span><span class=\"token string\">\"$.mascot\"</span> <span class=\"token keyword\">FROM</span> facts<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------------------------------+</span>\n<span class=\"token operator\">|</span> sentence<span class=\"token operator\">-</span><span class=\"token operator\">>></span><span class=\"token string\">\"$.mascot\"</span>                   <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------------------------------+</span>\n<span class=\"token operator\">|</span> Our mascot <span class=\"token operator\">is</span> a dolphin named <span class=\"token string\">\"Sakila\"</span><span class=\"token punctuation\">.</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------------------------------+</span></code></pre></div>\n</li>\n<li>\n<p>JSON Array 조회</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> id <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> json_contains<span class=\"token punctuation\">(</span>sentence<span class=\"token punctuation\">,</span> json_array<span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> rst <span class=\"token keyword\">FROM</span> facts\n<span class=\"token punctuation\">)</span> A\n<span class=\"token keyword\">WHERE</span> rst <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">--+</span>\n<span class=\"token operator\">|</span>id<span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">--+</span>\n<span class=\"token operator\">|</span><span class=\"token number\">3</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span><span class=\"token number\">5</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">--+</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> facts f\n<span class=\"token keyword\">WHERE</span> JSON_CONTAINS<span class=\"token punctuation\">(</span>sentence <span class=\"token punctuation\">,</span> <span class=\"token string\">'\"a\"'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> facts f\n<span class=\"token keyword\">WHERE</span> JSON_CONTAINS<span class=\"token punctuation\">(</span>sentence <span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'$'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"naming-conventions\" style=\"position:relative;\"><a href=\"#naming-conventions\" aria-label=\"naming conventions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Naming Conventions</h2>\n<h3 id=\"공통\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%ED%86%B5\" aria-label=\"공통 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>공통</h3>\n<ol>\n<li>소문자를 사용한다.</li>\n<li>\n<p>단어를 임의로 축약하지 않는다.</p>\n<ul>\n<li>register<em>date (O) / reg</em>date (X)</li>\n</ul>\n</li>\n<li>\n<p>가능하면 약어의 사용을 피한다.</p>\n<ul>\n<li>약어를 사용해야 하는 경우, 약어 역시 소문자를 사용한다.</li>\n</ul>\n</li>\n<li>\n<p>동사는 능동태를 사용한다.</p>\n<ul>\n<li>register<em>date (O) / registered</em>date (X)</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"table\" style=\"position:relative;\"><a href=\"#table\" aria-label=\"table permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TABLE</h3>\n<ol>\n<li>복수형을 사용한다.</li>\n<li>이름을 구성하는 각각의 단어를 underscore 로 연결하는 snake case 를 사용한다.</li>\n<li>\n<p>교차 테이블 (many-to-many) 의 이름에 사용할 수 있는 직관적인 단어가 있다면 해당 단어를 사용한다.</p>\n<ul>\n<li>적절한 단어가 없다면 relationship을 맺고 있는 각 테이블의 이름을 ”<em>and</em>” 또는 ”<em>has</em>” 로 연결한다.</li>\n</ul>\n</li>\n<li>\n<p>예</p>\n<ul>\n<li>articles, movies : 복수형</li>\n<li>vip_members : 약어도 예외 없이 소문자 &#x26; 단어의 연결에 underbar를 사용</li>\n<li>articles<em>and<em>movies : 교차 테이블을 “\\</em>and</em>” 로 연결</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"column\" style=\"position:relative;\"><a href=\"#column\" aria-label=\"column permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>COLUMN</h3>\n<ol>\n<li>auto increment 속성의 PK를 대리키로 사용하는 경우, “테이블 이름의 단수형”_id 의 규칙으로 명명한다.</li>\n<li>이름을 구성하는 각각의 단어를 underscore 로 연결하는 snake case 를 사용한다.</li>\n<li>\n<p>foreign key 컬럼은 부모 테이블의 primary key 컬럼 이름을 그대로 사용한다.</p>\n<ul>\n<li>self 참조인 경우, primary key 컬럼 이름 앞에 적절한 접두어를 사용한다.</li>\n<li>같은 primary key 컬럼을 자식 테이블에서 2번 이상 참조하는 경우, primary key 컬럼 이름 앞에 적절한 접두어를 사용한다.</li>\n</ul>\n</li>\n<li>boolean 유형의 컬럼이면 ”_flag” 접미어를 사용한다.</li>\n<li>date, datetime 유형의 컬럼이면 ”_date” 접미어를 사용한다.</li>\n<li>\n<p>예</p>\n<ul>\n<li>article<em>id, movie</em>id : “테이블 이름의 단수형” + ”_id”</li>\n<li>complete_flag : boolean 유형의 컬럼</li>\n<li>issue_date : 날짜 유형의 컬럼</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"index\" style=\"position:relative;\"><a href=\"#index\" aria-label=\"index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INDEX</h3>\n<ol>\n<li>이름을 구성하는 각각의 단어를 hyphen 으로 연결하는 snake case 를 사용한다.</li>\n<li>\n<p>접두어</p>\n<ul>\n<li>unique index : uix</li>\n<li>spatial index : six</li>\n<li>index : nix</li>\n</ul>\n</li>\n<li>“접두어”-“테이블 이름”-“컬럼 이름”-“컬럼 이름”</li>\n<li>\n<p>예</p>\n<ul>\n<li>uix-accounts-login_email</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"foreign-key\" style=\"position:relative;\"><a href=\"#foreign-key\" aria-label=\"foreign key permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FOREIGN KEY</h3>\n<ol>\n<li>이름을 구성하는 각각의 단어를 hyphen 으로 연결하는 snake case 를 사용한다.</li>\n<li>\n<p>“fk”-“부모 테이블 이름”-“자식 테이블 이름”</p>\n<ul>\n<li>같은 부모-자식 테이블에 2개 이상의 foreign key가 있는 경우, numbering합니다.</li>\n</ul>\n</li>\n<li>\n<p>예</p>\n<ul>\n<li>fk-movies-articles : article 테이블이 movie 테이블을 참조</li>\n<li>fk-admins-notices-1 / fk-admins-notices-2 : notices 테이블이 admins 테이블을 2회 이상 참조하여 numbering</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"view\" style=\"position:relative;\"><a href=\"#view\" aria-label=\"view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VIEW</h3>\n<ol>\n<li>접두어 “v”를 사용한다.</li>\n<li>기타 규칙은 TABLE과 동일</li>\n<li>\n<p>예</p>\n<ul>\n<li>v_privileges</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"function\" style=\"position:relative;\"><a href=\"#function\" aria-label=\"function permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FUNCTION</h3>\n<ol>\n<li>접두어 “usf”를 사용한다.</li>\n<li>이름을 구성하는 각각의 단어를 underscore 로 연결하는 snake case 를 사용한다.</li>\n<li>\n<p>예</p>\n<ul>\n<li>usf<em>random</em>key</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"trigger\" style=\"position:relative;\"><a href=\"#trigger\" aria-label=\"trigger permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TRIGGER</h3>\n<ol>\n<li>이름을 구성하는 각각의 단어를 underscore 로 연결하는 snake case 를 사용한다.</li>\n<li>\n<p>접두어</p>\n<ul>\n<li>tra : AFTER 트리거</li>\n<li>trb : BEFORE 트리거</li>\n</ul>\n</li>\n<li>“접두어”<em>“테이블 이름”</em>“트리거 이벤트”</li>\n<li>\n<p>예</p>\n<ul>\n<li>tga<em>movies</em>ins : AFTER INSERT 트리거</li>\n<li>tga<em>movies</em>upd : AFTER UPDATE 트리거</li>\n<li>tgb<em>movies</em>del : BEFORE DELETE 트리거</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"auto_increment\" style=\"position:relative;\"><a href=\"#auto_increment\" aria-label=\"auto_increment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AUTO_INCREMENT</h2>\n<h3 id=\"auto_increment-prefix\" style=\"position:relative;\"><a href=\"#auto_increment-prefix\" aria-label=\"auto_increment prefix permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AUTO_INCREMENT prefix</h3>\n<ul>\n<li>하나의 컬럼에 접두사를 넣을수는 없으나 컬럼 두개를 이용하면 가능 합니다.</li>\n<li>\n<p>MyISAM ENGINE으로 가능합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> animals <span class=\"token punctuation\">(</span>\n  grp <span class=\"token keyword\">ENUM</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fish'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'mammal'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bird'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  id <span class=\"token keyword\">MEDIUMINT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span>\n  name <span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span>grp<span class=\"token punctuation\">,</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span>MyISAM<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> animals <span class=\"token punctuation\">(</span>grp<span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span>\n  <span class=\"token punctuation\">(</span><span class=\"token string\">'mammal'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'dog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mammal'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'cat'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token string\">'bird'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'penguin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fish'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'lax'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mammal'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'whale'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token string\">'bird'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'ostrich'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> animals <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> grp<span class=\"token punctuation\">,</span>id<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"auto_increment-multi\" style=\"position:relative;\"><a href=\"#auto_increment-multi\" aria-label=\"auto_increment multi permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AUTO_INCREMENT multi</h3>\n<ul>\n<li>AUTO_INCREMENT prefix 의 ENUM 설정을 Integer로 사용하면 가능하나 숫자는 직접 입력해야 합니다.</li>\n</ul>\n<h2 id=\"index-1\" style=\"position:relative;\"><a href=\"#index-1\" aria-label=\"index 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Index</h2>\n<h3 id=\"create-index\" style=\"position:relative;\"><a href=\"#create-index\" aria-label=\"create index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create index</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span>salaries<span class=\"token punctuation\">`</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>emp_no<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>salary<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>from_date<span class=\"token punctuation\">`</span> <span class=\"token keyword\">date</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>to_date<span class=\"token punctuation\">`</span> <span class=\"token keyword\">date</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>is_bonus<span class=\"token punctuation\">`</span> <span class=\"token keyword\">tinyint</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> zerofill <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>group_no<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">INDEX</span> IDX_SALARIES_INCREASE <span class=\"token keyword\">ON</span> salaries\n<span class=\"token punctuation\">(</span>is_bonus<span class=\"token punctuation\">,</span> from_date<span class=\"token punctuation\">,</span> group_no<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">INDEX</span> IDX_SALARIES_DECREASE <span class=\"token keyword\">ON</span> salaries\n<span class=\"token punctuation\">(</span>group_no<span class=\"token punctuation\">,</span> from_date<span class=\"token punctuation\">,</span> is_bonus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"explain-index\" style=\"position:relative;\"><a href=\"#explain-index\" aria-label=\"explain index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Explain index</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">explain</span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> facts f <span class=\"token keyword\">where</span> id<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"show-index\" style=\"position:relative;\"><a href=\"#show-index\" aria-label=\"show index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Show index</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">INDEX</span> <span class=\"token keyword\">FROM</span> test<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">INDEX</span> <span class=\"token keyword\">FROM</span> facts<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"drop-index\" style=\"position:relative;\"><a href=\"#drop-index\" aria-label=\"drop index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Drop index</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> books <span class=\"token keyword\">DROP</span> <span class=\"token keyword\">INDEX</span> idx_test<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"tip\" style=\"position:relative;\"><a href=\"#tip\" aria-label=\"tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip</h3>\n<ul>\n<li>인덱스가 없는 컬럼을 조건으로 update, delete를 하게 되면 굉장히 느려 많은 양의 데이터를 삭제 해야하는 상황에선 인덱스로 지정된 컬럼을 기준으로 진행하는것을 추천드립니다.</li>\n<li>인덱스의 키는 길면 길수록 성능상 이슈가 있습니다.</li>\n<li>카디널리티가 높은순에서 낮은순으로 구성하는게 더 성능이 뛰어납니다.</li>\n<li>조회 쿼리 사용시 인덱스를 태우려면 최소한 첫번째 인덱스 조건은 조회조건에 포함되어야만 합니다.</li>\n</ul>\n<h2 id=\"engine\" style=\"position:relative;\"><a href=\"#engine\" aria-label=\"engine permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ENGINE</h2>\n<ul>\n<li>\n<p>SHOW ENGINES</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SHOW</span> ENGINES<span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">|</span><span class=\"token comment\">------------------|-------|--------------------------------------------------------------|------------|---|----------|</span>\n<span class=\"token operator\">|</span><span class=\"token keyword\">Engine</span>            <span class=\"token operator\">|</span>Support<span class=\"token operator\">|</span><span class=\"token keyword\">Comment</span>                                                       <span class=\"token operator\">|</span><span class=\"token keyword\">Transactions</span><span class=\"token operator\">|</span>XA <span class=\"token operator\">|</span>Savepoints<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span><span class=\"token comment\">------------------|-------|--------------------------------------------------------------|------------|---|----------|</span>\n<span class=\"token operator\">|</span><span class=\"token keyword\">InnoDB</span>            <span class=\"token operator\">|</span><span class=\"token keyword\">DEFAULT</span><span class=\"token operator\">|</span>Supports <span class=\"token keyword\">transactions</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">row</span><span class=\"token operator\">-</span><span class=\"token keyword\">level</span> locking<span class=\"token punctuation\">,</span> <span class=\"token operator\">and</span> <span class=\"token keyword\">foreign</span> <span class=\"token keyword\">keys</span>    <span class=\"token operator\">|</span>YES         <span class=\"token operator\">|</span>YES<span class=\"token operator\">|</span>YES       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>MRG_MYISAM        <span class=\"token operator\">|</span>YES    <span class=\"token operator\">|</span>Collection <span class=\"token keyword\">of</span> identical MyISAM <span class=\"token keyword\">tables</span>                         <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>          <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span> <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>        <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>MEMORY            <span class=\"token operator\">|</span>YES    <span class=\"token operator\">|</span><span class=\"token keyword\">Hash</span> based<span class=\"token punctuation\">,</span> stored <span class=\"token operator\">in</span> memory<span class=\"token punctuation\">,</span> useful <span class=\"token keyword\">for</span> <span class=\"token keyword\">temporary</span> <span class=\"token keyword\">tables</span>     <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>          <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span> <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>        <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>BLACKHOLE         <span class=\"token operator\">|</span>YES    <span class=\"token operator\">|</span><span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span><span class=\"token boolean\">null</span> storage <span class=\"token keyword\">engine</span> <span class=\"token punctuation\">(</span>anything you <span class=\"token keyword\">write</span> <span class=\"token keyword\">to</span> it disappears<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>          <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span> <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>        <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>MyISAM            <span class=\"token operator\">|</span>YES    <span class=\"token operator\">|</span>MyISAM storage <span class=\"token keyword\">engine</span>                                         <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>          <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span> <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>        <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>CSV               <span class=\"token operator\">|</span>YES    <span class=\"token operator\">|</span>CSV storage <span class=\"token keyword\">engine</span>                                            <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>          <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span> <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>        <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>ARCHIVE           <span class=\"token operator\">|</span>YES    <span class=\"token operator\">|</span>Archive storage <span class=\"token keyword\">engine</span>                                        <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>          <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span> <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>        <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>PERFORMANCE_SCHEMA<span class=\"token operator\">|</span>YES    <span class=\"token operator\">|</span>Performance <span class=\"token keyword\">Schema</span>                                            <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>          <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span> <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>        <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>FEDERATED         <span class=\"token operator\">|</span><span class=\"token keyword\">NO</span>     <span class=\"token operator\">|</span>Federated MySQL storage <span class=\"token keyword\">engine</span>                                <span class=\"token operator\">|</span>            <span class=\"token operator\">|</span>   <span class=\"token operator\">|</span>          <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span><span class=\"token comment\">------------------|-------|--------------------------------------------------------------|------------|---|----------|</span></code></pre></div>\n</li>\n<li>\n<p>가장 많이 쓰이는 엔진</p>\n<ul>\n<li>InnoDB : 따로 스토리지 엔진을 명시하지 않으면 default 로 설정되는 스토리지 엔진이다. InnoDB는 transaction-safe 하며, 커밋과 롤백, 그리고 데이터 복구 기능을 제공하므로 데이터를 효과적으로 보호 할 수 있다.<br />\nInnoDB는 기본적으로 row-level locking 제공하며, 또한 데이터를 clustered index에 저장하여 PK 기반의 query의 I/O 비용을 줄인다. 또한 FK 제약을 제공하여 데이터 무결성을 보장한다.<br />\n<br /></li>\n<li>MyISAM : 트랜잭션을 지원하지 않고 table-level locking을 제공한다. 따라서 multi-thread 환경에서 성능이 저하 될 수 있다. 특정 세션이 테이블을 변경하는 동안 테이블 단위로 lock이 잡히기 때문이다.<br />\n텍스트 전문 검색(Fulltext Searching)과 지리정보 처리 기능도 지원되는데, 이를 사용할 시에는 파티셔닝을 사용할 수 없다는 단점이 있다.<br />\n<br /></li>\n<li>Archive : ‘로그 수집’에 적합한 엔진이다. 데이터가 메모리상에서 압축되고 압축된 상태로 디스크에 저장이 되기 때문에 row-level locking이 가능하다.<br />\n다만, 한번 INSERT된 데이터는 UPDATE, DELETE를 사용할 수 없으며 인덱스를 지원하지 않는다. 따라서 거의 가공하지 않을 원시 로그 데이터를 관리하는데에 효율적일 수 있고, 테이블 파티셔닝도 지원한다. 다만 트랜잭션은 지원하지 않는다.<br /></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"charset\" style=\"position:relative;\"><a href=\"#charset\" aria-label=\"charset permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CHARSET</h2>\n<ul>\n<li>SHOW CHARSET</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">CHARSET</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"latin1-2바이트\" style=\"position:relative;\"><a href=\"#latin1-2%EB%B0%94%EC%9D%B4%ED%8A%B8\" aria-label=\"latin1 2바이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>latin1 (2바이트)</h3>\n<h3 id=\"utf8-가변3바이트\" style=\"position:relative;\"><a href=\"#utf8-%EA%B0%80%EB%B3%803%EB%B0%94%EC%9D%B4%ED%8A%B8\" aria-label=\"utf8 가변3바이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>utf8 (가변3바이트)</h3>\n<h3 id=\"utf8mb4-가변4바이트\" style=\"position:relative;\"><a href=\"#utf8mb4-%EA%B0%80%EB%B3%804%EB%B0%94%EC%9D%B4%ED%8A%B8\" aria-label=\"utf8mb4 가변4바이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>utf8mb4 (가변4바이트)</h3>\n<h2 id=\"collation\" style=\"position:relative;\"><a href=\"#collation\" aria-label=\"collation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Collation</h2>\n<ul>\n<li>Collation 은 텍스트 데이터를 정렬(ORDER BY)할 때 사용한다. 즉 text 계열 자료형에서만 사용할 수 있는 속성이다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span>EMP_ATTEND<span class=\"token punctuation\">`</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">`</span>ATTEND_YMD<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COLLATE</span> <span class=\"token string\">'utf8_bin'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">`</span>EMP_NO<span class=\"token punctuation\">`</span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COLLATE</span> <span class=\"token string\">'utf8_bin'</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">COLLATE</span><span class=\"token operator\">=</span><span class=\"token string\">'utf8mb4_unicode_ci'</span>\n<span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"utf8bin-or-utf8mb4bin\" style=\"position:relative;\"><a href=\"#utf8bin-or-utf8mb4bin\" aria-label=\"utf8bin or utf8mb4bin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>utf8<em>bin (or utf8mb4</em>bin)</h3>\n<ul>\n<li>바이너리 저장 값 그대로 정렬한다.</li>\n<li>hex 코드(16진수)로 A 는 41, B 는 42, a 는 61, b 는 62 이기 때문에 다음 순서로 출력된다.</li>\n</ul>\n<h3 id=\"utf8generalci-or-utf8mb4generalci\" style=\"position:relative;\"><a href=\"#utf8generalci-or-utf8mb4generalci\" aria-label=\"utf8generalci or utf8mb4generalci permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>utf8<em>general</em>ci (or utf8mb4<em>general</em>ci)</h3>\n<ul>\n<li>텍스트 정렬할 때 a 다음에 b 가 나타나야 한다는 생각으로 나온 정렬방식. 일반적으로 널리 사용된다.</li>\n<li>라틴계열 문자를 사람의 인식에 맞게 정렬한다.</li>\n<li>바이너리를 한번 가공한 것이다.</li>\n</ul>\n<h3 id=\"utf8unicodeci-or-utf8mb4unicodeci\" style=\"position:relative;\"><a href=\"#utf8unicodeci-or-utf8mb4unicodeci\" aria-label=\"utf8unicodeci or utf8mb4unicodeci permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>utf8<em>unicode</em>ci (or utf8mb4<em>unicode</em>ci)</h3>\n<ul>\n<li>general_ci 보다 조금 더 사람에 맞게 정렬한다.</li>\n<li>한국어, 영어, 중국어, 일본어 사용환경에서는 general<em>ci 와 unicode</em>ci 의 결과가 동일하다.</li>\n<li>뭔가 더 특수한 문자의 정렬 순서가 변경된다.</li>\n</ul>\n<h3 id=\"recommend\" style=\"position:relative;\"><a href=\"#recommend\" aria-label=\"recommend permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recommend</h3>\n<ul>\n<li>\n<p>다음은 권장하는 charset 과 collation 설정 값이다.</p>\n<ol>\n<li>MySQL 5.5.3 이전 = utf8 charset 에, utf8<em>general</em>ci collation 사용.</li>\n<li>MySQL 이 최신일 때 = utf8mb4 charset 에, utf8mb4<em>unicode</em>ci collation 사용.</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"procedure\" style=\"position:relative;\"><a href=\"#procedure\" aria-label=\"procedure permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Procedure</h2>\n<h3 id=\"example\" style=\"position:relative;\"><a href=\"#example\" aria-label=\"example permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h3>\n<ul>\n<li>\n<p>Create table</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span>test_reviews<span class=\"token punctuation\">`</span> <span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>p_id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>b_id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>memo<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>dt<span class=\"token punctuation\">`</span> <span class=\"token keyword\">timestamp</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8</code></pre></div>\n</li>\n<li>\n<p>Create procedure</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">PROCEDURE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> proc_review_data_insert<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">PROCEDURE</span> proc_review_data_insert<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">BEGIN</span>\n  <span class=\"token keyword\">declare</span> v_max <span class=\"token keyword\">INTEGER</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">declare</span> v_num <span class=\"token keyword\">INTEGER</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">declare</span> v_p_id <span class=\"token keyword\">INTEGER</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">declare</span> v_b_id <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'board'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">while</span> v_num <span class=\"token operator\">&lt;</span> v_max <span class=\"token keyword\">do</span>\n      <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_reviews<span class=\"token punctuation\">(</span>p_id<span class=\"token punctuation\">,</span> b_id<span class=\"token punctuation\">,</span> memo<span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span>CEIL<span class=\"token punctuation\">(</span>v_num<span class=\"token operator\">/</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> concat<span class=\"token punctuation\">(</span>v_b_id<span class=\"token punctuation\">,</span> CEIL<span class=\"token punctuation\">(</span>v_num<span class=\"token operator\">/</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> concat<span class=\"token punctuation\">(</span><span class=\"token string\">'test - '</span><span class=\"token punctuation\">,</span> v_num<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">set</span> v_num <span class=\"token operator\">=</span> v_num <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">end</span> <span class=\"token keyword\">while</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">update</span> test_reviews\n  <span class=\"token keyword\">set</span> p_id <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">where</span> id <span class=\"token operator\">=</span> p_id<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">update</span> test_reviews\n  <span class=\"token keyword\">set</span> p_id <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n  <span class=\"token keyword\">where</span> id <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>Call procedure</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">call</span> proc_review_data_insert<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"function-1\" style=\"position:relative;\"><a href=\"#function-1\" aria-label=\"function 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Function</h2>\n<h3 id=\"example-1\" style=\"position:relative;\"><a href=\"#example-1\" aria-label=\"example 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h3>\n<ul>\n<li>\n<p>Create function</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> fnc_reveiw_hierarchi<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">FUNCTION</span>  fnc_reveiw_hierarchi<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">RETURNS</span> <span class=\"token keyword\">INT</span>\n\n<span class=\"token operator\">NOT</span> <span class=\"token keyword\">DETERMINISTIC</span>\n\n<span class=\"token keyword\">READS</span> <span class=\"token keyword\">SQL</span> <span class=\"token keyword\">DATA</span>\n\n<span class=\"token keyword\">BEGIN</span>\n\n  <span class=\"token keyword\">DECLARE</span> v_id <span class=\"token keyword\">INT</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">DECLARE</span> v_parent <span class=\"token keyword\">INT</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">DECLARE</span> <span class=\"token keyword\">CONTINUE</span> <span class=\"token keyword\">HANDLER</span> <span class=\"token keyword\">FOR</span> <span class=\"token operator\">NOT</span> FOUND <span class=\"token keyword\">SET</span> <span class=\"token variable\">@id</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">SET</span> v_parent <span class=\"token operator\">=</span> <span class=\"token variable\">@id</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">SET</span> v_id <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">IF</span> <span class=\"token variable\">@id</span> <span class=\"token operator\">IS</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">THEN</span>\n      <span class=\"token keyword\">RETURN</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">END</span> <span class=\"token keyword\">IF</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">LOOP</span>\n\n  <span class=\"token keyword\">SELECT</span> <span class=\"token function\">MIN</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">INTO</span> <span class=\"token variable\">@id</span>\n  <span class=\"token keyword\">FROM</span> test_reviews\n  <span class=\"token keyword\">WHERE</span> p_id <span class=\"token operator\">=</span> v_parent\n  <span class=\"token operator\">AND</span> id <span class=\"token operator\">></span> v_id<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">IF</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">@id</span> <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>v_parent <span class=\"token operator\">=</span> <span class=\"token variable\">@start_with</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span>\n  <span class=\"token keyword\">SET</span> <span class=\"token variable\">@level</span> <span class=\"token operator\">=</span> <span class=\"token variable\">@level</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">RETURN</span> <span class=\"token variable\">@id</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">END</span> <span class=\"token keyword\">IF</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">SET</span> <span class=\"token variable\">@level</span> :<span class=\"token operator\">=</span> <span class=\"token variable\">@level</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> p_id\n  <span class=\"token keyword\">INTO</span> v_id <span class=\"token punctuation\">,</span> v_parent\n      <span class=\"token keyword\">FROM</span> test_reviews\n  <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> v_parent<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">END</span></code></pre></div>\n</li>\n<li>\n<p>Call function</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n  <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> <span class=\"token keyword\">LEVEL</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token keyword\">then</span> CONCAT<span class=\"token punctuation\">(</span>CONCAT<span class=\"token punctuation\">(</span><span class=\"token keyword\">REPEAT</span><span class=\"token punctuation\">(</span><span class=\"token string\">'    '</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">level</span>  <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">'┗'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ani<span class=\"token punctuation\">.</span>memo<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">ELSE</span> ani<span class=\"token punctuation\">.</span>memo\n  <span class=\"token keyword\">END</span> <span class=\"token keyword\">AS</span> memo\n  <span class=\"token punctuation\">,</span> ani<span class=\"token punctuation\">.</span>id\n  <span class=\"token punctuation\">,</span> ani<span class=\"token punctuation\">.</span>p_id\n  <span class=\"token punctuation\">,</span> fnc<span class=\"token punctuation\">.</span><span class=\"token keyword\">level</span>\n  <span class=\"token punctuation\">,</span> fnc<span class=\"token punctuation\">.</span>rnum\n<span class=\"token comment\">-- \t, ani.pv</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">SELECT</span>\n      fnc_reveiw_hierarchi<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> id<span class=\"token punctuation\">,</span> <span class=\"token variable\">@level</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">level</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@rownum</span> :<span class=\"token operator\">=</span> <span class=\"token variable\">@rownum</span><span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token keyword\">AS</span> rnum\n  <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token variable\">@start_with</span>:<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@id</span>:<span class=\"token operator\">=</span><span class=\"token variable\">@start_with</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@level</span>:<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> vars\n  <span class=\"token keyword\">JOIN</span> test_reviews\n  <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token variable\">@rownum</span> :<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> r\n  <span class=\"token keyword\">WHERE</span> <span class=\"token variable\">@id</span> <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> fnc\n<span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">(</span>\n<span class=\"token keyword\">select</span> id<span class=\"token punctuation\">,</span> p_id<span class=\"token punctuation\">,</span> memo<span class=\"token punctuation\">,</span> <span class=\"token variable\">@pv</span> <span class=\"token keyword\">as</span> pv\n  <span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> test_reviews<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token variable\">@pv</span> :<span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> init\n  <span class=\"token punctuation\">)</span> a\n  <span class=\"token keyword\">where</span>   find_in_set<span class=\"token punctuation\">(</span>p_id<span class=\"token punctuation\">,</span> <span class=\"token variable\">@pv</span><span class=\"token punctuation\">)</span>\n  <span class=\"token operator\">and</span>     length<span class=\"token punctuation\">(</span><span class=\"token variable\">@pv</span> :<span class=\"token operator\">=</span> concat<span class=\"token punctuation\">(</span><span class=\"token variable\">@pv</span><span class=\"token punctuation\">,</span> <span class=\"token string\">','</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> ani <span class=\"token keyword\">on</span> fnc<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> ani<span class=\"token punctuation\">.</span>id\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> rnum\n<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"load-file\" style=\"position:relative;\"><a href=\"#load-file\" aria-label=\"load file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Load file</h2>\n<h3 id=\"example-2\" style=\"position:relative;\"><a href=\"#example-2\" aria-label=\"example 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h3>\n<ul>\n<li>\n<p>Create table</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span>test_reviews<span class=\"token punctuation\">`</span> <span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>p_id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>b_id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>memo<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">`</span>dt<span class=\"token punctuation\">`</span> <span class=\"token keyword\">timestamp</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CURRENT_TIMESTAMP</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8</code></pre></div>\n</li>\n<li>\n<p>CSV</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">id<span class=\"token punctuation\">,</span> p_id<span class=\"token punctuation\">,</span> b_id<span class=\"token punctuation\">,</span> memo<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">;</span>\n<span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 1'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 2'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 3'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 4'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 5'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 6'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 7'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 8'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'board1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test - 9'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>Query</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">LOAD</span> <span class=\"token keyword\">DATA</span> <span class=\"token keyword\">LOCAL</span> <span class=\"token keyword\">INFILE</span> <span class=\"token string\">'/Users/whitexozu/dev/temp/review.csv'</span> <span class=\"token keyword\">INTO</span> <span class=\"token keyword\">TABLE</span> mcs<span class=\"token punctuation\">.</span>test_reviews\n<span class=\"token keyword\">FIELDS</span> <span class=\"token keyword\">TERMINATED</span> <span class=\"token keyword\">BY</span> <span class=\"token string\">','</span> <span class=\"token keyword\">ENCLOSED</span> <span class=\"token keyword\">BY</span> <span class=\"token string\">'\"'</span>\n<span class=\"token keyword\">IGNORE</span> <span class=\"token number\">1</span> <span class=\"token keyword\">LINES</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"error\" style=\"position:relative;\"><a href=\"#error\" aria-label=\"error permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Error</h3>\n<ul>\n<li>\n<p>ERROR 1290 (HY000): The MySQL server is running with the —secure-file-priv option so it cannot execute this statement</p>\n<p>에러 발생시 secure<em>file</em>priv에 특정 경로가 설정되어있어서 해당 경로에 파일만 import 할 수 있습니다.\n해당 경로에 파일을 넣거나 경로를 삭제하여 모든 경로에 파일을 import 할 수 있도록 하는 방법이 있습니다.\n후자가 좋을거 같습니다.</p>\n<ol>\n<li>경록 확인</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mysql> SELECT @@GLOBAL.secure_file_priv;\n+---------------------------+\n| @@GLOBAL.secure_file_priv |\n+---------------------------+\n| /var/lib/mysql-files/     |\n+---------------------------+</code></pre></div>\n<ol>\n<li>설정 변경</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> /etc/my.cnf\n\n<span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span>\nsecure-file-priv<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span></code></pre></div>\n<ol>\n<li>\n<p>MySQL 재시작</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> systemctl restart mysqld</code></pre></div>\n</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"참고사이트\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%82%AC%EC%9D%B4%ED%8A%B8\" aria-label=\"참고사이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고사이트</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">Numeric Types</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//tcpschool.com/mysql/mysql_datatype_numeric\n<span class=\"token key atrule\">Data Types</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//dev.mysql.com/doc/refman/8.0/en/integer<span class=\"token punctuation\">-</span>types.html\n<span class=\"token key atrule\">Naming Conventions</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//purumae.tistory.com/200\n<span class=\"token key atrule\">Index</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//jojoldu.tistory.com/243\nCharset<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">Collation</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//sshkim.tistory.com/128\n<span class=\"token key atrule\">Create Functoin</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//shlee0882.tistory.com/242\n  https<span class=\"token punctuation\">:</span>//m.blog.naver.com/PostView.nhn<span class=\"token punctuation\">?</span>blogId=sthwin<span class=\"token important\">&amp;logNo=221150189755&amp;proxyReferer=https%3A%2F%2Fwww.google.com%2F</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#data-types\">Data Types</a></p>\n<ul>\n<li><a href=\"#numeric-types\">Numeric types</a></li>\n<li><a href=\"#string-types\">String types</a></li>\n<li><a href=\"#date-types\">Date types</a></li>\n<li><a href=\"#json-type\">Json type</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#naming-conventions\">Naming Conventions</a></p>\n<ul>\n<li><a href=\"#%EA%B3%B5%ED%86%B5\">공통</a></li>\n<li><a href=\"#table\">TABLE</a></li>\n<li><a href=\"#column\">COLUMN</a></li>\n<li><a href=\"#index\">INDEX</a></li>\n<li><a href=\"#foreign-key\">FOREIGN KEY</a></li>\n<li><a href=\"#view\">VIEW</a></li>\n<li><a href=\"#function\">FUNCTION</a></li>\n<li><a href=\"#trigger\">TRIGGER</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#auto_increment\">AUTO_INCREMENT</a></p>\n<ul>\n<li><a href=\"#auto_increment-prefix\">AUTO_INCREMENT prefix</a></li>\n<li><a href=\"#auto_increment-multi\">AUTO_INCREMENT multi</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#index-1\">Index</a></p>\n<ul>\n<li><a href=\"#create-index\">Create index</a></li>\n<li><a href=\"#explain-index\">Explain index</a></li>\n<li><a href=\"#show-index\">Show index</a></li>\n<li><a href=\"#drop-index\">Drop index</a></li>\n<li><a href=\"#tip\">Tip</a></li>\n</ul>\n</li>\n<li><a href=\"#engine\">ENGINE</a></li>\n<li>\n<p><a href=\"#charset\">CHARSET</a></p>\n<ul>\n<li><a href=\"#latin1-2%EB%B0%94%EC%9D%B4%ED%8A%B8\">latin1 (2바이트)</a></li>\n<li><a href=\"#utf8-%EA%B0%80%EB%B3%803%EB%B0%94%EC%9D%B4%ED%8A%B8\">utf8 (가변3바이트)</a></li>\n<li><a href=\"#utf8mb4-%EA%B0%80%EB%B3%804%EB%B0%94%EC%9D%B4%ED%8A%B8\">utf8mb4 (가변4바이트)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#collation\">Collation</a></p>\n<ul>\n<li><a href=\"#utf8bin-or-utf8mb4bin\">utf8<em>bin (or utf8mb4</em>bin)</a></li>\n<li><a href=\"#utf8generalci-or-utf8mb4generalci\">utf8<em>general</em>ci (or utf8mb4<em>general</em>ci)</a></li>\n<li><a href=\"#utf8unicodeci-or-utf8mb4unicodeci\">utf8<em>unicode</em>ci (or utf8mb4<em>unicode</em>ci)</a></li>\n<li><a href=\"#recommend\">Recommend</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#procedure\">Procedure</a></p>\n<ul>\n<li><a href=\"#example\">Example</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#function-1\">Function</a></p>\n<ul>\n<li><a href=\"#example-1\">Example</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#load-file\">Load file</a></p>\n<ul>\n<li><a href=\"#example-2\">Example</a></li>\n<li><a href=\"#error\">Error</a></li>\n</ul>\n</li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0%EC%82%AC%EC%9D%B4%ED%8A%B8\">참고사이트</a></li>\n</ul>\n</div>","excerpt":"프로젝트를 설계를 할때면 리셋되어 있는 지식들이 있습니다.\n그중에 DB 설계 관련 지식들은 거의 신생아로 돌아간거 같습니다.\n그래서 나중에 찾아볼 것들을 미리 정리해 보았습니다. Data Types Numeric types Integer Types (정수 타입) | Type | Storage (Bytes) | Minimum Value Signed | Minimum Value Unsigned | Maximum Value Signed | Maximum Value Unsigned |\n|TINYINT |1 |-128 |0 |127 |255|\n|SMALLINT |2 |-32768 |0 |32767 |65535|\n|MEDIUMINT |3 |-8388608 |0 |8388607 |16777215|\n|INT |4 |-2147483648 |0 |2147483647 |4294967295|\n|BIGINT |8 |-263 |0 |263 - 1 |264 - 1| 정수형 데이터 타입을 생성할때 예상되는 최…","frontmatter":{"date":"March 20, 2020","title":"[MySQL] 테이블 생성시 고려사항","categories":"Database","author":"TMM","emoji":null},"fields":{"slug":"/2020-03-20-database-mysql-create-table/"}},"next":{"id":"bc9c9a51-ee18-58be-86ce-54b036d698bb","html":"<p>5.6은 JSON 지원이 안되네요.<br />\n그래서 업그레이드를 하기로 했습니다.</p>\n<h3 id=\"서비스-중지\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%A4%91%EC%A7%80\" aria-label=\"서비스 중지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서비스 중지</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> systemctl stop mysqld</code></pre></div>\n<h3 id=\"mysql56-백업\" style=\"position:relative;\"><a href=\"#mysql56-%EB%B0%B1%EC%97%85\" aria-label=\"mysql56 백업 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL5.6 백업</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> -r /var/lib/mysql /var/lib/mysql.original</code></pre></div>\n<h3 id=\"mysql56-rpm-삭제\" style=\"position:relative;\"><a href=\"#mysql56-rpm-%EC%82%AD%EC%A0%9C\" aria-label=\"mysql56 rpm 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL5.6 RPM 삭제</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ yum remove mysql-community-release</code></pre></div>\n<h3 id=\"wget-설치\" style=\"position:relative;\"><a href=\"#wget-%EC%84%A4%EC%B9%98\" aria-label=\"wget 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>wget 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ yum <span class=\"token function\">install</span> <span class=\"token function\">wget</span></code></pre></div>\n<h3 id=\"mysql57-다운로드\" style=\"position:relative;\"><a href=\"#mysql57-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\" aria-label=\"mysql57 다운로드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL5.7 다운로드</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">wget</span> https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm</code></pre></div>\n<h3 id=\"mysql-설치\" style=\"position:relative;\"><a href=\"#mysql-%EC%84%A4%EC%B9%98\" aria-label=\"mysql 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">rpm</span> -ivh mysql57-community-release-el7-11.noarch.rpm</code></pre></div>\n<h3 id=\"mysql-서버-업그레이드\" style=\"position:relative;\"><a href=\"#mysql-%EC%84%9C%EB%B2%84-%EC%97%85%EA%B7%B8%EB%A0%88%EC%9D%B4%EB%93%9C\" aria-label=\"mysql 서버 업그레이드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 서버 업그레이드</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> yum update mysql-server</code></pre></div>\n<h3 id=\"서비스-시작\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%8B%9C%EC%9E%91\" aria-label=\"서비스 시작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서비스 시작</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> systemctl start mysqld</code></pre></div>\n<h3 id=\"확인\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9D%B8\" aria-label=\"확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>확인</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with <span class=\"token punctuation\">;</span> or <span class=\"token punctuation\">\\</span>g.\nYour MySQL connection <span class=\"token function\">id</span> is <span class=\"token number\">5</span>\nServer version: <span class=\"token number\">5.7</span>.29 MySQL Community Server <span class=\"token punctuation\">(</span>GPL<span class=\"token punctuation\">)</span>\n\nCopyright <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span> <span class=\"token number\">2000</span>, <span class=\"token number\">2020</span>, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType <span class=\"token string\">'help;'</span> or <span class=\"token string\">'\\h'</span> <span class=\"token keyword\">for</span> help. Type <span class=\"token string\">'\\c'</span> to <span class=\"token function\">clear</span> the current input statement.\n\nmysql<span class=\"token operator\">></span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%A4%91%EC%A7%80\">서비스 중지</a></li>\n<li><a href=\"#mysql56-%EB%B0%B1%EC%97%85\">MySQL5.6 백업</a></li>\n<li><a href=\"#mysql56-rpm-%EC%82%AD%EC%A0%9C\">MySQL5.6 RPM 삭제</a></li>\n<li><a href=\"#wget-%EC%84%A4%EC%B9%98\">wget 설치</a></li>\n<li><a href=\"#mysql57-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\">MySQL5.7 다운로드</a></li>\n<li><a href=\"#mysql-%EC%84%A4%EC%B9%98\">MySQL 설치</a></li>\n<li><a href=\"#mysql-%EC%84%9C%EB%B2%84-%EC%97%85%EA%B7%B8%EB%A0%88%EC%9D%B4%EB%93%9C\">MySQL 서버 업그레이드</a></li>\n<li><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%8B%9C%EC%9E%91\">서비스 시작</a></li>\n<li><a href=\"#%ED%99%95%EC%9D%B8\">확인</a></li>\n</ul>\n</div>","frontmatter":{"date":"March 20, 2020","title":"[MySQL] Centos7 에서 MySQL 5.6을 5.7로 업그레이드","categories":"Server","author":"TMM","emoji":null},"fields":{"slug":"/2020-03-20-server-mysql-upgrade/"}},"prev":{"id":"6dd97ccb-57e8-597b-ab0a-91d6b2d468b9","html":"<p>이미지를 택스트로 변경 할 수 있는 테슬렉트를 설치후 실행해 보겠습니다.</p>\n<h2 id=\"환경\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD\" aria-label=\"환경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">OS : MacOS Catalina 10.15.3\nTesseract : 4.1.1\nPython: 3.5\npytesseract: 0.3.3</code></pre></div>\n<h2 id=\"설치\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98\" aria-label=\"설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치</h2>\n<h3 id=\"tesseract-설치\" style=\"position:relative;\"><a href=\"#tesseract-%EC%84%A4%EC%B9%98\" aria-label=\"tesseract 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tesseract 설치</h3>\n<ul>\n<li>\n<p>테서렉트를 활용하기 위해서는 테서렉트 먼저 설치해야합니다. <br />\nhomebrew를 통해서 설치가 가능하며 파이선은 pip를 통해서 pytesseract를 설치하면 설치된 테서렉트를 랩핑하여 사용하는 방식입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ brew <span class=\"token function\">install</span> tesseract\n\n$ brew <span class=\"token function\">install</span> tesseract-lang\n\n$ tesseract --version\ntesseract <span class=\"token number\">4.1</span>.1\nleptonica-1.79.0\nlibgif <span class=\"token number\">5.2</span>.1 <span class=\"token builtin class-name\">:</span> libjpeg 9d <span class=\"token builtin class-name\">:</span> libpng <span class=\"token number\">1.6</span>.37 <span class=\"token builtin class-name\">:</span> libtiff <span class=\"token number\">4.1</span>.0 <span class=\"token builtin class-name\">:</span> zlib <span class=\"token number\">1.2</span>.11 <span class=\"token builtin class-name\">:</span> libwebp <span class=\"token number\">1.1</span>.0 <span class=\"token builtin class-name\">:</span> libopenjp2 <span class=\"token number\">2.3</span>.1\nFound AVX2\nFound AVX\nFound FMA\nFound SSE\n\n$ pip <span class=\"token function\">install</span> pytesseract\n\n$ pip show pytesseract\nName: pytesseract\nVersion: <span class=\"token number\">0.3</span>.3\nSummary: Python-tesseract is a python wrapper <span class=\"token keyword\">for</span> Google<span class=\"token punctuation\">\\</span>'s Tesseract-OCR\nHome-page: https://github.com/madmaze/pytesseract\nAuthor: Samuel Hoffstaetter\nAuthor-email: samuel@hoffstaetter.com\nLicense: Apache License <span class=\"token number\">2.0</span>\nLocation: /Users/whitexozu/opt/anaconda3/envs/py35/lib/python3.5/site-packages\nRequires: Pillow</code></pre></div>\n</li>\n</ul>\n<h3 id=\"tessdata-다운로드\" style=\"position:relative;\"><a href=\"#tessdata-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\" aria-label=\"tessdata 다운로드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tessdata 다운로드</h3>\n<ul>\n<li><code class=\"language-text\">https://github.com/tesseract-ocr/tessdata</code>에서 tessdata를 다운받은후 <code class=\"language-text\">/usr/local/Cellar/tesseract/4.1.1/share/tessdata</code>에 kor.tessdata를 복사합니다.</li>\n</ul>\n<p><strong>Note:</strong><br />\ntesseract 4.1.1을 설치했는데 trainedata를 기본 경로가<br />\n<em>/usr/local/Cellar/tesseract-lang/4.0.0/share/tessdata</em>를 바라보고 있습니다.<br />\n그리고 당연하게 파일을 못 읽는다는 오류가 납니다. 오류 메시지는 아래과 같습니다.<br />\n<br />\n<code class=\"language-text\">\"Error: Tesseract (legacy) engine requested, but components are not present in /usr/local/share/tessdata/kor.traineddata!! Failed loading language 'kor' Tesseract couldn't load any languages! Could not initialize tesseract.\"</code><br />\n<br />\n<em>tessdata 다운로드</em> 를 참고하여 파일을 받았다면 경로를 변경하면 됩니다. 경로를 설정하는 방법은 두가지가 있습니다. 첫번째는 <code class=\"language-text\">--tessdata-dir</code> 옵션을 사용하는 것이고 두번째는 <code class=\"language-text\">.bash_profile</code> 또는 <code class=\"language-text\">.zprofile</code>에 경로 정보를 export 하면 됩니다.<br />\nexport TESSDATA_PREFIX=“/usr/local/Cellar/tesseract/4.1.1/share/tessdata”\n{: .notice—info}</p>\n<h2 id=\"실행\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89\" aria-label=\"실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행</h2>\n<p>두가지 방식으로 실행이 가능합니다.</p>\n<h3 id=\"명렁어-입력-실행\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%81%EC%96%B4-%EC%9E%85%EB%A0%A5-%EC%8B%A4%ED%96%89\" aria-label=\"명렁어 입력 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>명렁어 입력 실행</h3>\n<ul>\n<li>\n<p>설치된 텍서렉트에 명령어를 직접 입력하여 실행하는 방식</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ tesseract ~/Pictures/text_image/itemText.png stdout -l kor --oem <span class=\"token number\">1</span> --psm <span class=\"token number\">3</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"pytesseract-실행\" style=\"position:relative;\"><a href=\"#pytesseract-%EC%8B%A4%ED%96%89\" aria-label=\"pytesseract 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pytesseract 실행</h3>\n<ul>\n<li>\n<p>python 에서 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> cv2\n<span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">import</span> pytesseract\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n\nimPath <span class=\"token operator\">=</span> <span class=\"token string\">'itemText.png'</span>\n\nconfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'-l eng --oem 1 --psm 3'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Read image from disk</span>\nim <span class=\"token operator\">=</span> cv2<span class=\"token punctuation\">.</span>imread<span class=\"token punctuation\">(</span>imPath<span class=\"token punctuation\">,</span> cv2<span class=\"token punctuation\">.</span>IMREAD_COLOR<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Run tesseract OCR on image</span>\ntext <span class=\"token operator\">=</span> pytesseract<span class=\"token punctuation\">.</span>image_to_string<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> config<span class=\"token operator\">=</span>config<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Print recognized text</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ python tesseract_test.py</code></pre></div>\n</li>\n</ul>\n<h2 id=\"옵션-설명\" style=\"position:relative;\"><a href=\"#%EC%98%B5%EC%85%98-%EC%84%A4%EB%AA%85\" aria-label=\"옵션 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>옵션 설명</h2>\n<ul>\n<li><code class=\"language-text\">-stdout / output</code> : 화면 출력, 파일 출력</li>\n<li><code class=\"language-text\">-L</code> : 언어 선택</li>\n<li>\n<p><code class=\"language-text\">--oem</code> : OCR Engine Mode</p>\n<ul>\n<li>0: Legacy engine only.</li>\n<li>1: Neural nets LSTM engine only.</li>\n<li>2: Legacy + LSTM engines.</li>\n<li>3: Default, based on what is available.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">--psm</code> : PSM은 텍스트 구조에 대한 추가 정보 선택</li>\n<li><code class=\"language-text\">--tessdata-dir</code> : tessdata file path 지정</li>\n</ul>\n<h2 id=\"참고-사이트\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8\" aria-label=\"참고 사이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고 사이트</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">https<span class=\"token punctuation\">:</span>//github.com/tesseract<span class=\"token punctuation\">-</span>ocr/tessdata\nhttps<span class=\"token punctuation\">:</span>//tariat.tistory.com/703\nhttps<span class=\"token punctuation\">:</span>//m.blog.naver.com/tommybee/221307497468</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%ED%99%98%EA%B2%BD\">환경</a></li>\n<li>\n<p><a href=\"#%EC%84%A4%EC%B9%98\">설치</a></p>\n<ul>\n<li><a href=\"#tesseract-%EC%84%A4%EC%B9%98\">tesseract 설치</a></li>\n<li><a href=\"#tessdata-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\">tessdata 다운로드</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%8B%A4%ED%96%89\">실행</a></p>\n<ul>\n<li><a href=\"#%EB%AA%85%EB%A0%81%EC%96%B4-%EC%9E%85%EB%A0%A5-%EC%8B%A4%ED%96%89\">명렁어 입력 실행</a></li>\n<li><a href=\"#pytesseract-%EC%8B%A4%ED%96%89\">pytesseract 실행</a></li>\n</ul>\n</li>\n<li><a href=\"#%EC%98%B5%EC%85%98-%EC%84%A4%EB%AA%85\">옵션 설명</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8\">참고 사이트</a></li>\n</ul>\n</div>","frontmatter":{"date":"March 26, 2020","title":"[Python] Mac tesseract 설치 및 실행","categories":"language","author":"TMM","emoji":null},"fields":{"slug":"/2020-03-26-language-python-tesseract/"}},"site":{"siteMetadata":{"siteUrl":"https://whitexozu.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/2020-03-20-database-mysql-create-table/","nextSlug":"/2020-03-20-server-mysql-upgrade/","prevSlug":"/2020-03-26-language-python-tesseract/"}},"staticQueryHashes":["1073350324","2938748437"]}